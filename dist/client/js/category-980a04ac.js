(window.webpackJsonp=window.webpackJsonp||[]).push([[3],[,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BASE_HOST="https://www.hnmall.com/",t.GPS_KEY="__geolocation__",t.TOKEN="__accessToken__",t.INSTALL_APP="install_hnmall_app"},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){new qq.maps.Geolocation("PMOBZ-DSBK6-7NQSZ-EUK5J-A4PR6-DEB4V","hnmall").getLocation(function(t){console.log(t);var n={latitude:t.lat,longitude:t.lng,accuracy:t.accuracy};e(n)},function(t){console.log(t),e()},{timeout:8e3})}function c(e,t){localStorage.setItem(e,t)}function i(e){return localStorage.getItem(e)}t.formatPrice=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=("string"==typeof e?e:e.toString()).split(".");if(n[1]){for(var r=n[1],o="",a=0;a<t;a++)o+=r[a]?r[a]:"0";n[1]=o}else n[1]="00";return n[0]+"."+n[1]},t.isWechat=function(){var e=navigator.userAgent.toLowerCase();return/micromessenger/i.test(e)},t.navigatorGeolocation=function(e){"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(t){e({latitude:t.coords.latitude,longitude:t.coords.longitude,accuracy:t.coords.accuracy})},function(t){console.log(t),a(e)},{timeout:5e3,maximumAge:6e4}):a(e)},t.appendScript=function(e){var t=document.createElement("script"),n=document.getElementsByTagName("head")[0];t.type="text/javascript",t.src=e,n.appendChild(t)},t.getLocationByWeixin=function(e,t){void 0===("undefined"==typeof wx?"undefined":o(wx))&&t(),wx.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["checkJsApi","openLocation","getLocation"]}),wx.ready(function(){wx.checkJsApi({jsApiList:["getLocation"],success:function(e){wx.getLocation({type:"wgs84",success:function(e){var n={latitude:e.latitude,longitude:e.longitude,speed:e.speed,accuracy:e.accuracy};t(n)},fail:function(){console.log("error***weixin"),a(t)}})},fail:function(){a(t)}})})},t.getScrollTop=function(){var e=0,t=0;return document.body&&(e=document.body.scrollTop),document.documentElement&&(t=document.documentElement.scrollTop),e-t>0?e:t},t.getScrollHeight=function(){var e=0,t=0;return document.body&&(e=document.body.scrollHeight),document.documentElement&&(t=document.documentElement.scrollHeight),e-t>0?e:t},t.localCache=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!t){var r=i(e+"_time"),o=void 0;if(Date.now()-r>0)return!1;var a=i(e);try{o=JSON.parse(a)}catch(e){o=a}return o}c(e,"string"==typeof t?t:JSON.stringify(t)),c(e+"_time",Date.now()+24*n*60*60*1e3)},t.setCookie=function(e,t,n,r,o){var a=new Date,c=e+"="+escape(t);a.setDate(a.getDate()+n),n&&(c+=";expires="+a.toGMTString()),r&&(c+=";path="+r),o&&(c+=";domain="+o),console.log(c),document.cookie=c},t.distance=function(e,t,n,r){var o=function(e){return e*Math.PI/180};if(!(e&&t&&n&&r))return"";var a=o(e),c=o(n),i=a-c,u=o(t)-o(r),l=2*Math.asin(Math.sqrt(Math.pow(Math.sin(i/2),2)+Math.cos(a)*Math.cos(c)*Math.pow(Math.sin(u/2),2)));return(l*=6378137)>1e3?(l/=10,(l=parseInt(l))/100+"千米"):(l=Math.round(100*l)/100)+"米"},t.throttle=function(e,t){var n=void 0,r=void 0,o=void 0,a=Date.now();return function(){var c=Date.now(),i=t-(c-a);r=this,o=arguments,clearTimeout(n),i<=0?(e.apply(r,o),a=Date.now()):n=setTimeout(e,i)}},t.fetchApi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Promise.all([n.e(0),n.e(1)]).then(n.t.bind(null,29,7)).then(function(n){var o=n.default,a=r({timeout:3e4,headers:{"Content-Type":"application/json"}},t);return o(e,a).then(function(e){return e.data})})},t.createNonceStr=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t="ABCDEFGHJKMNPQRSTWXYZLOVUIabcdefhijkmnpolurstwxyz12345678",n=t.length,r="",o=0;o<e;o++)r+=t.charAt(Math.floor(Math.random()*n));return r},t.checkphone=function(e){return!!/^1(3|4|5|7|8)\d{9}$/.test(e)},t.isObject=function(e){return"[object Object]"==Object.prototype.toString.call(e)},t.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),c=n(2);var i=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return a.default.createElement("div",{className:"app-foot-bar"},a.default.createElement("a",{className:"foot-bar-item",href:"/"},a.default.createElement("img",{className:"icon",src:"https://www.hnmall.com/themes/mobilemall/images/d-icon1.png"}),a.default.createElement("span",null,"首页")),a.default.createElement("a",{className:"foot-bar-item",href:"/category.html"},a.default.createElement("img",{className:"icon",src:"https://www.hnmall.com/themes/mobilemall/images/d-icon2.png"}),a.default.createElement("span",null,"分类")),a.default.createElement("a",{className:"foot-bar-item",href:c.BASE_HOST+"wap/cart.html"},a.default.createElement("img",{className:"cart",src:"https://www.hnmall.com/themes/mobilemall/images/d-icon3.jpg"}),a.default.createElement("span",null,"购物车")),a.default.createElement("a",{className:"foot-bar-item",href:c.BASE_HOST+"weidian/store-index.html"},a.default.createElement("img",{className:"icon",src:"https://www.hnmall.com/themes/mobilemall/images/d-icon4.png"}),a.default.createElement("span",null,"店铺")),a.default.createElement("a",{className:"foot-bar-item",href:"https://www.hnmall.com/wap/member.html"},a.default.createElement("img",{className:"icon",src:"https://www.hnmall.com/themes/mobilemall/images/d-icon5.png"}),a.default.createElement("span",null,"会员")))}}]),t}();t.default=i},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.wrapComponentWithActions=function(e,t){return function(n){function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,n),o(c,[{key:"render",value:function(){return i.default.createElement(e,r({},this.props,(0,a.bindActionCreators)(t,this.props.dispatch)))}}]),c}(c.Component)};var a=n(4),c=n(0),i=l(c),u=l(n(17));function l(e){return e&&e.__esModule?e:{default:e}}var s=(0,a.compose)((0,a.applyMiddleware)(u.default))(a.createStore);t.default=s},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.START_FETCH_LIST="START_FETCH_LIST",t.FINISH_FETCH_LIST="FINISH_FETCH_LIST",t.LOCAL_STORE_CATE="__category__"},,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchCategory=function(e){return function(t){var n=(0,r.localCache)(o.LOCAL_STORE_CATE);t(function(e){return{type:o.START_FETCH_LIST,param:e}}(e)),n?t(a(e,n)):(0,r.fetchApi)("/category/list",{method:"POST"}).then(function(n){var c=n.categoryList;(0,r.localCache)(o.LOCAL_STORE_CATE,c,7),t(a(e,c))})}};var r=n(3),o=n(16);function a(e,t){return{type:o.FINISH_FETCH_LIST,param:e,res:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),c=n(2);var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){}},{key:"handleChange",value:function(e){var t=e.target.value;this.setState({value:t})}},{key:"render",value:function(){var e=this;return a.default.createElement("div",{className:"app-search-box"},a.default.createElement("form",{action:c.BASE_HOST+"wap/item-list.html",method:"post",className:"search"},a.default.createElement("i",{className:"iconfont icon-zoom"}),a.default.createElement("input",{type:"text",value:this.state.value,onChange:function(t){e.handleChange(t)},placeholder:"搜索店内商品"})))}}]),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o);var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){}},{key:"rendeSpiner",value:function(){return a.default.createElement("div",{className:"spinner-4"},a.default.createElement("div",{className:"bounce1"}),a.default.createElement("div",{className:"bounce2"}),a.default.createElement("div",{className:"bounce3"}))}},{key:"render",value:function(){var e={display:this.props.active?"block":"none"};return a.default.createElement("div",{className:"loading-box",style:e},a.default.createElement("div",{className:"spinner-4"},a.default.createElement("div",{className:"bounce1"}),a.default.createElement("div",{className:"bounce2"}),a.default.createElement("div",{className:"bounce3"})))}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Category=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=p(o),c=p(n(9)),i=n(3),u=n(2),l=p(n(6)),s=p(n(32)),f=p(n(31));function p(e){return e&&e.__esModule?e:{default:e}}t.Category=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={activeIndex:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){this.props.fetchCategory()}},{key:"handleClick",value:function(e){if(this.state.activeIndex===e)return!1;this.setState({activeIndex:e})}},{key:"renderNav",value:function(e){var t=this,n=this.state.activeIndex;return e.map(function(e,r){var o=(0,c.default)("category-name",{active:n===r});return a.default.createElement("div",{onClick:t.handleClick.bind(t,r),className:o,key:e.id},e.name)})}},{key:"renderItem",value:function(e){return(0,i.isArray)(e)?e.map(function(e,t){var n=u.BASE_HOST+"res/images/cplogo.jpg",r=e.icon.replace(/^\//,u.BASE_HOST)||n;return a.default.createElement("div",{className:"category-nav-item",key:"r_"+t},a.default.createElement("a",{href:u.BASE_HOST+"wap/item-list.html?cat_id="+e.id},a.default.createElement("img",{src:r}),a.default.createElement("span",{className:"name"},e.name)))}):""}},{key:"renderList",value:function(e){var t=this;return(0,i.isArray)(e)?e.map(function(e,n){return a.default.createElement("div",{className:"category-group",key:"g_"+n},a.default.createElement("div",{className:"category-nav-header"},e.name),a.default.createElement("div",{className:"category-nav-list"},t.renderItem(e.children)))}):""}},{key:"renderCategory",value:function(){var e=this.state.activeIndex,t=this.props.category,n=t.categoryList;t.isFetching;if(!(0,i.isArray)(n)||n.length<1)return"";var r=n[e].children;return a.default.createElement("div",{className:"category-container"},a.default.createElement("div",{className:"category-nav"},this.renderNav(n)),a.default.createElement("div",{className:"category-main"},this.renderList(r)))}},{key:"render",value:function(){var e=this.props.category.isFetching;return a.default.createElement("div",{className:"app-wrap"},a.default.createElement(f.default,null),this.renderCategory(),a.default.createElement(l.default,null),a.default.createElement(s.default,{active:e}))}}]),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(4),a=(n(3),n(16));var c=(0,o.combineReducers)({category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.START_FETCH_LIST:return r({},e,{isFetching:!0,isFetched:!1});case a.FINISH_FETCH_LIST:var n=t.res;return r({},e,{categoryList:n,isFetched:!0,isFetching:!1});default:return e}}});t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=p(o),c=n(15),i=p(n(34)),u=n(10),l=p(u),s=n(33),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(30));function p(e){return e&&e.__esModule?e:{default:e}}var d=(0,c.connect)(function(e){return e})((0,u.wrapComponentWithActions)(s.Category,f));var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=function(e){return(0,l.default)(i.default,e)}({category:{categoryList:this.props.initialState,isFetching:!1,isFetched:!1}});return a.default.createElement(c.Provider,{store:e},a.default.createElement(d,null))}}]),t}();t.default=m},,,function(e,t,n){},function(e,t,n){"use strict";n(38);var r=c(n(0)),o=c(n(11)),a=c(n(35));function c(e){return e&&e.__esModule?e:{default:e}}var i=JSON.parse(document.getElementById("initial-state").textContent);o.default.hydrate(r.default.createElement(a.default,{initialState:i}),document.getElementById("app"))}],[[39,2,0]]]);