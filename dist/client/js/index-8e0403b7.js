(window.webpackJsonp=window.webpackJsonp||[]).push([[5],[,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BASE_HOST="https://www.hnmall.com/",t.GPS_KEY="__geolocation__",t.TOKEN="__accessToken__",t.INSTALL_APP="install_hnmall_app"},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e){new qq.maps.Geolocation("PMOBZ-DSBK6-7NQSZ-EUK5J-A4PR6-DEB4V","hnmall").getLocation(function(t){var n={latitude:t.lat,longitude:t.lng,accuracy:t.accuracy};e(n)},function(t){console.log(t),e()},{timeout:8e3})}function i(e,t){localStorage.setItem(e,t)}function l(e){return localStorage.getItem(e)}t.formatPrice=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=("string"==typeof e?e:e.toString()).split(".");if(n[1]){for(var r=n[1],a="",o=0;o<t;o++)a+=r[o]?r[o]:"0";n[1]=a}else n[1]="00";return n[0]+"."+n[1]},t.isWechat=function(){var e=navigator.userAgent.toLowerCase();return/micromessenger/i.test(e)},t.navigatorGeolocation=function(e){"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(t){e({latitude:t.coords.latitude,longitude:t.coords.longitude,accuracy:t.coords.accuracy})},function(t){console.log(t),o(e)},{timeout:5e3,maximumAge:6e4}):o(e)},t.appendScript=function(e){var t=document.createElement("script"),n=document.getElementsByTagName("head")[0];t.type="text/javascript",t.src=e,n.appendChild(t)},t.getLocationByWeixin=function(e,t){void 0===("undefined"==typeof wx?"undefined":a(wx))&&t(),wx.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["checkJsApi","openLocation","getLocation"]}),wx.ready(function(){wx.checkJsApi({jsApiList:["getLocation"],success:function(e){wx.getLocation({type:"wgs84",success:function(e){var n={latitude:e.latitude,longitude:e.longitude,speed:e.speed,accuracy:e.accuracy};t(n)},fail:function(){console.log("error***weixin"),o(t)}})},fail:function(){o(t)}})})},t.getScrollTop=function(){var e=0,t=0;return document.body&&(e=document.body.scrollTop),document.documentElement&&(t=document.documentElement.scrollTop),e-t>0?e:t},t.getScrollHeight=function(){var e=0,t=0;return document.body&&(e=document.body.scrollHeight),document.documentElement&&(t=document.documentElement.scrollHeight),e-t>0?e:t},t.localCache=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!t){var r=l(e+"_time"),a=void 0;if(Date.now()-r>0)return!1;var o=l(e);try{a=JSON.parse(o)}catch(e){a=o}return a}i(e,"string"==typeof t?t:JSON.stringify(t)),i(e+"_time",Date.now()+24*n*60*60*1e3)},t.setCookie=function(e,t,n,r,a){var o=new Date,i=e+"="+escape(t);o.setDate(o.getDate()+n),n&&(i+=";expires="+o.toGMTString()),r&&(i+=";path="+r),a&&(i+=";domain="+a),console.log(i),document.cookie=i},t.distance=function(e,t,n,r){var a=function(e){return e*Math.PI/180};if(!(e&&t&&n&&r))return"";var o=a(e),i=a(n),l=o-i,c=a(t)-a(r),u=2*Math.asin(Math.sqrt(Math.pow(Math.sin(l/2),2)+Math.cos(o)*Math.cos(i)*Math.pow(Math.sin(c/2),2)));return(u*=6378137)>1e3?(u/=10,(u=parseInt(u))/100+"千米"):(u=Math.round(100*u)/100)+"米"},t.throttle=function(e,t){var n=void 0,r=void 0,a=void 0,o=Date.now();return function(){var i=Date.now(),l=t-(i-o);r=this,a=arguments,clearTimeout(n),l<=0?(e.apply(r,a),o=Date.now()):n=setTimeout(e,l)}},t.fetchApi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Promise.all([n.e(0),n.e(1)]).then(n.t.bind(null,23,7)).then(function(n){var a=n.default,o=r({timeout:3e4,headers:{"Content-Type":"application/json"}},t);return a(e,o).then(function(e){return e.data})})},t.createNonceStr=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t="ABCDEFGHJKMNPQRSTWXYZLOVUIabcdefhijkmnpolurstwxyz12345678",n=t.length,r="",a=0;a<e;a++)r+=t.charAt(Math.floor(Math.random()*n));return r},t.checkphone=function(e){return!!/^1(3|4|5|7|8)\d{9}$/.test(e)},t.isObject=function(e){return"[object Object]"==Object.prototype.toString.call(e)},t.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)}},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.wrapComponentWithActions=function(e,t){return function(n){function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,n),a(i,[{key:"render",value:function(){return l.default.createElement(e,r({},this.props,(0,o.bindActionCreators)(t,this.props.dispatch)))}}]),i}(i.Component)};var o=n(4),i=n(0),l=u(i),c=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var s=(0,o.compose)((0,o.applyMiddleware)(c.default))(o.createStore);t.default=s},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=c(a),i=c(n(5)),l=n(2);function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.state={active:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=this,t=Math.ceil(2*window.innerHeight);window.addEventListener("scroll",function(){var n=(0,l.getScrollTop)()>t;e.setState({active:n})})}},{key:"handleClick",value:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,this.setState({active:!1})}},{key:"render",value:function(){var e=this.state.active,t=(0,i.default)("app-go-top",{active:e});return o.default.createElement("div",{className:t,onClick:this.handleClick})}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=n(1);var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.default.createElement("div",{className:"app-foot-bar"},o.default.createElement("a",{className:"foot-bar-item",href:"/"},o.default.createElement("img",{className:"icon",src:"https://www.hnmall.com/themes/mobilemall/images/d-icon1.png"}),o.default.createElement("span",null,"首页")),o.default.createElement("a",{className:"foot-bar-item",href:"/category.html"},o.default.createElement("img",{className:"icon",src:"https://www.hnmall.com/themes/mobilemall/images/d-icon2.png"}),o.default.createElement("span",null,"分类")),o.default.createElement("a",{className:"foot-bar-item",href:i.BASE_HOST+"wap/cart.html"},o.default.createElement("img",{className:"cart",src:"https://www.hnmall.com/themes/mobilemall/images/d-icon3.jpg"}),o.default.createElement("span",null,"购物车")),o.default.createElement("a",{className:"foot-bar-item",href:i.BASE_HOST+"weidian/store-index.html"},o.default.createElement("img",{className:"icon",src:"https://www.hnmall.com/themes/mobilemall/images/d-icon4.png"}),o.default.createElement("span",null,"店铺")),o.default.createElement("a",{className:"foot-bar-item",href:"https://www.hnmall.com/wap/member.html"},o.default.createElement("img",{className:"icon",src:"https://www.hnmall.com/themes/mobilemall/images/d-icon5.png"}),o.default.createElement("span",null,"会员")))}}]),t}();t.default=l},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.forceCheck=t.lazyload=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=p(a),i=p(n(9)),l=p(n(3)),c=n(65),u=p(n(64)),s=p(n(63)),f=p(n(62)),d=p(n(61));function p(e){return e&&e.__esModule?e:{default:e}}var m=0,h=0,g="data-lazyload-listened",v=[],y=[],b=!1;try{var E=Object.defineProperty({},"passive",{get:function(){b=!0}});window.addEventListener("test",null,E)}catch(e){}var w=!!b&&{capture:!1,passive:!0},_=function(e){var t=i.default.findDOMNode(e);if(t){var n=(0,u.default)(t);(e.props.overflow&&n!==t.ownerDocument&&n!==document&&n!==document.documentElement?function(e,t){var n=i.default.findDOMNode(e),r=void 0,a=void 0;try{var o=t.getBoundingClientRect();r=o.top,a=o.height}catch(e){r=m,a=h}var l=window.innerHeight||document.documentElement.clientHeight,c=Math.max(r,0),u=Math.min(l,r+a)-c,s=void 0,f=void 0;try{var d=n.getBoundingClientRect();s=d.top,f=d.height}catch(e){s=m,f=h}var p=s-c,g=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return p-g[0]<=u&&p+f+g[1]>=0}(e,n):function(e){var t=i.default.findDOMNode(e);if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;var n=void 0,r=void 0;try{var a=t.getBoundingClientRect();n=a.top,r=a.height}catch(e){n=m,r=h}var o=window.innerHeight||document.documentElement.clientHeight,l=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return n-l[0]<=o&&n+r+l[1]>=0}(e))?e.visible||(e.props.once&&y.push(e),e.visible=!0,e.forceUpdate()):e.props.once&&e.visible||(e.visible=!1,e.props.unmountIfInvisible&&e.forceUpdate())}},O=function(){for(var e=0;e<v.length;++e){var t=v[e];_(t)}y.forEach(function(e){var t=v.indexOf(e);-1!==t&&v.splice(t,1)}),y=[]},N=void 0,S=null,k=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.visible=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=!1;if(void 0!==this.props.debounce&&"throttle"===N?(console.warn("[react-lazyload] Previous delay function is `throttle`, now switching to `debounce`, try setting them unanimously"),e=!0):"debounce"===N&&void 0===this.props.debounce&&(console.warn("[react-lazyload] Previous delay function is `debounce`, now switching to `throttle`, try setting them unanimously"),e=!0),e&&((0,c.off)(window,"scroll",S,w),(0,c.off)(window,"resize",S,w),S=null),S||(void 0!==this.props.debounce?(S=(0,s.default)(O,"number"==typeof this.props.debounce?this.props.debounce:300),N="debounce"):void 0!==this.props.throttle?(S=(0,f.default)(O,"number"==typeof this.props.throttle?this.props.throttle:300),N="throttle"):S=O),this.props.overflow){var t=(0,u.default)(i.default.findDOMNode(this));if(t&&"function"==typeof t.getAttribute){var n=+t.getAttribute(g)+1;1===n&&t.addEventListener("scroll",S,w),t.setAttribute(g,n)}}else if(0===v.length||e){var r=this.props,a=r.scroll,o=r.resize;a&&(0,c.on)(window,"scroll",S,w),o&&(0,c.on)(window,"resize",S,w)}v.push(this),_(this)}},{key:"shouldComponentUpdate",value:function(){return this.visible}},{key:"componentWillUnmount",value:function(){if(this.props.overflow){var e=(0,u.default)(i.default.findDOMNode(this));if(e&&"function"==typeof e.getAttribute){var t=+e.getAttribute(g)-1;0===t?(e.removeEventListener("scroll",S,w),e.removeAttribute(g)):e.setAttribute(g,t)}}var n=v.indexOf(this);-1!==n&&v.splice(n,1),0===v.length&&((0,c.off)(window,"resize",S,w),(0,c.off)(window,"scroll",S,w))}},{key:"render",value:function(){return this.visible?this.props.children:this.props.placeholder?this.props.placeholder:o.default.createElement("div",{style:{height:this.props.height},className:"lazyload-placeholder"})}}]),t}();k.propTypes={once:l.default.bool,height:l.default.oneOfType([l.default.number,l.default.string]),offset:l.default.oneOfType([l.default.number,l.default.arrayOf(l.default.number)]),overflow:l.default.bool,resize:l.default.bool,scroll:l.default.bool,children:l.default.node,throttle:l.default.oneOfType([l.default.number,l.default.bool]),debounce:l.default.oneOfType([l.default.number,l.default.bool]),placeholder:l.default.node,unmountIfInvisible:l.default.bool},k.defaultProps={once:!1,offset:0,overflow:!1,resize:!1,scroll:!0,unmountIfInvisible:!1};t.lazyload=d.default;t.default=k,t.forceCheck=O}).call(this,n(35))},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.START_FETCH_LIST="START_FETCH_LIST",t.FINISH_FETCH_LIST="FINISH_FETCH_LIST",t.START_GET_STORE="START_GET_STORE",t.FINISH_GET_STORE="FINISH_GET_STORE"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchGoods=function(e){return function(t){t(function(e){return{type:a.START_FETCH_LIST,param:e}}(e)),(0,r.fetchApi)("/index/goodslist",{method:"POST",data:{page:e.page,size:e.size,token:e.token}}).then(function(n){t(function(e,t){return{type:a.FINISH_FETCH_LIST,param:e,res:t}}(e,n))})}},t.getNearStore=function(e){return function(t){t(function(e){return{type:a.START_GET_STORE,param:e}}(e)),(0,r.fetchApi)("/index/shop",{method:"POST",data:{lat:e.latitude,lng:e.longitude}}).then(function(n){t(function(e,t){return{type:a.FINISH_GET_STORE,param:e,res:t}}(e,n))})}};var r=n(2),a=n(26)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a);var i=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){return o.default.createElement("div",{className:"copy-right"},o.default.createElement("a",{target:"_blank",href:"http://www.miibeian.gov.cn"},"湘ICP备14013772-3"),o.default.createElement("a",{target:"_blank",href:"https://www.hnmall.com/icp.html"},"增值电信业务经营许可证:湘B2-20140095"))}}]),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=u(a),i=u(n(16)),l=n(2),c=n(1);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;this.token=(0,l.localCache)(c.TOKEN);var t=window.innerHeight;window.addEventListener("scroll",(0,l.throttle)(function(n){var r=(0,l.getScrollTop)(),a=(0,l.getScrollHeight)();(r+t)/a>.4&&e.fetchGoodsList()},200),!1)}},{key:"fetchGoodsList",value:function(){var e=this.props.index,t=e.pageIndex,n=void 0===t?1:t,r=e.isFetching,a=e.isFetched,o=e.goodsList;return!r&&(!a&&(!(o.length>=200)&&void this.props.fetchGoods({page:n,size:20,token:""})))}},{key:"renderList",value:function(){var e=this.props.index.goodsList;if(!(0,l.isArray)(e))return"";var t=o.default.createElement("img",{src:c.BASE_HOST+"res/images/cplogo.jpg"}),n=e.map(function(e,n){var r=(0,l.formatPrice)(e.price).split(".");return o.default.createElement("div",{className:"goods-list-item",key:e.item_id},o.default.createElement("a",{href:"/item-"+e.item_id+".html"},o.default.createElement("div",{className:"goods-img"},o.default.createElement(i.default,{once:!0,height:177,offset:200,placeholder:t},o.default.createElement("img",{src:e.image_default_id,className:"img"}))),o.default.createElement("div",{className:"goods-title mutiple-text"},e.title),o.default.createElement("div",{className:"goods-price"},o.default.createElement("span",{className:"sign"},"￥"),o.default.createElement("span",{className:"price"},r[0]),o.default.createElement("b",{className:"price-s"},".",r[1]),o.default.createElement("span",{className:"mkt-price"},(0,l.formatPrice)(e.mkt_price)),o.default.createElement("i",{className:"buy"},"马上抢"))))});return o.default.createElement("div",{className:"goods-list"},n)}},{key:"render",value:function(){var e={display:this.props.index.isFetching?"block":"none"};return o.default.createElement("div",{className:"wrap"},o.default.createElement("div",{className:"goods-list-title"},"猜你喜欢"),this.renderList(),o.default.createElement("div",{className:"lazy-load-wrap",style:e},o.default.createElement("div",{className:"swiper-lazy-preloader"}),o.default.createElement("div",{className:"lazy-load-text"},"加载中...")))}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=l(a),i=l(n(16));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return e.displayName||e.name||"Component"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return function(n){function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return e.displayName="LazyLoad"+c(t),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,a.Component),r(l,[{key:"render",value:function(){return o.default.createElement(i.default,e,o.default.createElement(t,this.props))}}]),l}()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r,a;return t||(t=250),function(){var o=n||this,i=+new Date,l=arguments;r&&i<r+t?(clearTimeout(a),a=setTimeout(function(){r=i,e.apply(o,l)},t)):(r=i,e.apply(o,l))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=void 0,a=void 0,o=void 0,i=void 0,l=void 0,c=function c(){var u=+new Date-i;u<t&&u>=0?r=setTimeout(c,t-u):(r=null,n||(l=e.apply(o,a),r||(o=null,a=null)))};return function(){o=this,a=arguments,i=+new Date;var u=n&&!r;return r||(r=setTimeout(c,t)),u&&(l=e.apply(o,a),o=null,a=null),l}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return document.documentElement;for(var t="absolute"===e.style.position,n=/(scroll|auto)/,r=e;r;){if(!r.parentNode)return e.ownerDocument||document.documentElement;var a=window.getComputedStyle(r),o=a.position,i=a.overflow,l=a["overflow-x"],c=a["overflow-y"];if("static"===o&&t)r=r.parentNode;else{if(n.test(i)&&n.test(l)&&n.test(c))return r;r=r.parentNode}}return e.ownerDocument||e.documentElement||document.documentElement}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=function(e,t,n,r){r=r||!1,e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,function(t){n.call(e,t||window.event)})},t.off=function(e,t,n,r){r=r||!1,e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on"+t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=c(a),i=c(n(16)),l=n(1);function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"gridStyleOne",value:function(e){return o.default.createElement("div",{className:"widget-grid flex"},o.default.createElement("a",{className:"widget grid-half",href:e[0].linktarget},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[0].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-half",href:e[1].linktarget},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[1].image,className:"img"}))))}},{key:"gridStyleTwo",value:function(e){return o.default.createElement("div",{className:"widget-grid flex","data-type":"two"},o.default.createElement("div",{className:"widget grid-half"},o.default.createElement("a",{className:"widget b-b-l",href:e[0].linktarget},o.default.createElement(i.default,{once:!0,height:121},o.default.createElement("img",{src:e[0].image,className:"img"}))),o.default.createElement("div",{className:"flex"},o.default.createElement("a",{className:"widget grid-half",href:e[1].linktarget},o.default.createElement(i.default,{once:!0,height:121},o.default.createElement("img",{src:e[1].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-half",href:e[2].linktarget},o.default.createElement(i.default,{once:!0,height:121},o.default.createElement("img",{src:e[2].image,className:"img"}))))),o.default.createElement("a",{className:"widget grid-half",href:e[3].linktarget},o.default.createElement(i.default,{once:!0,height:242},o.default.createElement("img",{src:e[3].image,className:"img"}))))}},{key:"gridStyleThree",value:function(e){return o.default.createElement("div",{className:"widget-grid flex","data-type":"three"},o.default.createElement("a",{className:"widget grid-half",href:e[0].linktarget},o.default.createElement(i.default,{once:!0,height:242},o.default.createElement("img",{src:e[0].image,className:"img"}))),o.default.createElement("div",{className:"widget grid-half"},o.default.createElement("a",{className:"widget b-b-l",href:e[1].linktarget},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[1].image,className:"img"}))),o.default.createElement("div",{className:"flex"},o.default.createElement("a",{className:"widget grid-half",href:e[2].linktarget},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[2].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-half",href:e[3].linktarget},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[3].image,className:"img"}))))))}},{key:"gridStyleFour",value:function(e){return o.default.createElement("div",{className:"widget-grid","data-type":"four"},o.default.createElement("div",{className:"flex"},o.default.createElement("a",{className:"widget grid-half",href:e[0].linktarget},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[0].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-half",href:e[1].linktarget},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[1].image,className:"img"})))),o.default.createElement("div",{className:"flex"},o.default.createElement("a",{className:"widget grid-25",href:e[2].linktarget},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[2].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-25",href:e[3].linktarget},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[3].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-half",href:e[4].linktarget},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[4].image,className:"img"})))))}},{key:"gridStyleFive",value:function(e){return o.default.createElement("div",{className:"widget-grid","data-type":"five"},o.default.createElement("div",{className:"flex"},o.default.createElement("a",{className:"widget grid-half",href:e[0].linktarget},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[0].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-half",href:e[1].linktarget},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[1].image,className:"img"})))),o.default.createElement("div",{className:"flex"},o.default.createElement("a",{className:"widget grid-25",href:e[2].linktarget},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[2].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-25",href:e[3].linktarget},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[3].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-25",href:e[4].linktarget},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[4].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-25",href:e[5].linktarget},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[5].image,className:"img"})))))}},{key:"gridStyleSix",value:function(e){return o.default.createElement("div",{className:"widget-grid","data-type":"six"},o.default.createElement("div",{className:"flex"},o.default.createElement("a",{className:"widget grid-33",href:e[0].linktarget},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[0].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-33",href:e[1].linktarget},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[1].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-33",href:e[2].linktarget},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[2].image,className:"img"})))),o.default.createElement("div",{className:"flex"},o.default.createElement("a",{className:"widget grid-33",href:e[3].linktarget},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[3].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-33",href:e[4].linktarget},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[4].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-33",href:e[5].linktarget},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[5].image,className:"img"})))))}},{key:"renderGrid",value:function(){var e=this.props.params;if(Array.isArray(e.pic))switch(e.pic.forEach(function(e){e.image=e.image.replace(/^\//,l.BASE_HOST)}),e.styletag){case"one":return this.gridStyleOne(e.pic);case"two":return this.gridStyleTwo(e.pic);case"three":return this.gridStyleThree(e.pic);case"four":return this.gridStyleFour(e.pic);case"five":return this.gridStyleFive(e.pic);case"six":return this.gridStyleSix(e.pic);default:return""}}},{key:"render",value:function(){return o.default.createElement("div",{className:"widget-grid"},o.default.createElement("div",{className:"widget-grid-title"},this.props.params.title),this.renderGrid())}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=n(2),l=n(1);var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){new(n(6))(this.refs.store,{slidesPerView:4,preloadImages:!1})}},{key:"handleClick",value:function(){}},{key:"storePublicGoods",value:function(){var e=this.props.index.shops,t=[];return!(0,i.isArray)(e)||e.length<1?"":(e.forEach(function(e){e.store.forEach(function(n,r){var a=n.image_default_id.replace(/^\//,l.BASE_HOST),c=(0,i.formatPrice)(n.price);t.push(o.default.createElement("div",{className:"swiper-slide store-goods-item",key:r},o.default.createElement("a",{href:l.BASE_HOST+"wap/prepare-item.html?shop_id="+e.shop_id+"&item_id="+n.item_id},o.default.createElement("img",{src:a,className:"img"}),o.default.createElement("span",{className:"price"},"￥"+c))))})}),t)}},{key:"nearStoreList",value:function(){var e=this.props.index,t=e.shops,n=e.coords,r=[];return!(0,i.isArray)(t)||t.length<1?"":(t.forEach(function(e,t){var a=(0,i.distance)(n.lat,n.lng,e.dimensions,e.longitude);r.push(o.default.createElement("div",{className:"flex shop-item",key:t},o.default.createElement("a",{className:"shop-img",href:l.BASE_HOST+"oto/shop-index.html?shop_id="+e.shop_id},o.default.createElement("img",{src:e.shop_logo,className:"img"})),o.default.createElement("div",{className:"shop-info"},o.default.createElement("div",{className:"flex flex-around"},o.default.createElement("span",{className:"shop-name"},e.shop_name),o.default.createElement("i",{className:"distance"},"距离",a),o.default.createElement("a",{className:"shop-path",href:l.BASE_HOST+"oto/shop-index.html?shop_id="+e.shop_id},"去这里",o.default.createElement("i",{className:"iconfont icon-zuji"}))),o.default.createElement("div",{className:"coupon"},o.default.createElement("a",{href:l.BASE_HOST+"wap/s-coupon.html"},o.default.createElement("span",{className:"coupon-tag"},"领券"),"优惠券领取中心")))))}),r)}},{key:"render",value:function(){var e=this.props.index.shops,t=(0,i.isArray)(e)?e[0].shop_id:"";return o.default.createElement("div",{className:"near-store"},o.default.createElement("div",{className:"store-title"},o.default.createElement("span",null,"附近的微店"),o.default.createElement("a",{className:"store-link",href:l.BASE_HOST+"oto/shop-list.html"},o.default.createElement("span",null,"更多"),o.default.createElement("i",{className:"iconfont icon-more"}))),o.default.createElement("div",{className:"store-list"},this.nearStoreList()),o.default.createElement("div",{className:"store-title"},o.default.createElement("span",null,"年度优惠套餐"),o.default.createElement("a",{className:"store-link",href:l.BASE_HOST+"wap/prepare-index.html?shop_id="+t},o.default.createElement("span",null,"更多"),o.default.createElement("i",{className:"iconfont icon-more"}))),o.default.createElement("div",{className:"line"}),o.default.createElement("div",{ref:"store",className:"store-goods swiper-container"},o.default.createElement("div",{className:"swiper-wrapper"},this.storePublicGoods())))}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),l=u(i),c=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}var s=(a=r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;Promise.resolve().then(n.t.bind(null,6,7)).then(function(t){new(0,t.default)(e.refs.marquee,{direction:"vertical",loop:!0,autoplay:5e3})})}},{key:"renderSlider",value:function(){return this.props.message.map(function(e,t){return l.default.createElement("div",{className:"swiper-slide",key:t},l.default.createElement("a",{className:"swiper-slide-row",href:e.link},e.linkinfo))})}},{key:"render",value:function(){var e=this.props.more;return l.default.createElement("div",{className:"swiper-message"},l.default.createElement("div",{className:"message-slogan"},"友阿",l.default.createElement("span",null,"快报")),l.default.createElement("div",{ref:"marquee",className:"swiper-container"},l.default.createElement("div",{className:"swiper-wrapper"},this.renderSlider())),l.default.createElement("div",{className:"message-core"},"| ",l.default.createElement("a",{href:e},"更多")))}}]),t}(),r.propTypes={message:c.default.array},a);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=f(l),u=f(n(3)),s=n(1);function f(e){return e&&e.__esModule?e:{default:e}}var d=(a=r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),i(t,[{key:"componentDidMount",value:function(){}},{key:"formatMenuData",value:function(){var e=[],t=this.props.icons,n=[null,s.BASE_HOST+"wap/itemlist.html?type=new",null,null,s.BASE_HOST+"wap/s-coupon.html",s.BASE_HOST+"seckill/index.php"];return t.forEach(function(t,r){var a=o({},t);a.image=t.image.replace(/^\//,s.BASE_HOST),"cat"===t.linktype?a.linktarget=s.BASE_HOST+"wap/item-list.html?cat_id="+t.linktarget:"app"===t.linktype&&(a.linktarget=n[r]),e.push(a)}),e}},{key:"renderMenu",value:function(){return this.formatMenuData().map(function(e,t){return c.default.createElement("div",{className:"nav-menu-item",key:t},c.default.createElement("a",{href:e.linktarget},c.default.createElement("img",{className:"nav-menu-icon",src:e.image,alt:e.tag}),c.default.createElement("span",{className:"nav-menu-text"},e.tag)))})}},{key:"render",value:function(){return c.default.createElement("div",{className:"nav-menu"},this.renderMenu())}}]),t}(),r.propTypes={icons:u.default.array},a);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),l=s(i),c=s(n(3)),u=n(1);function s(e){return e&&e.__esModule?e:{default:e}}var f=(a=r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;Promise.resolve().then(n.t.bind(null,6,7)).then(function(t){new(0,t.default)(e.refs.slider,{autoplay:5e3,lazyLoading:!0,pagination:".swiper-pagination"})})}},{key:"renderSlider",value:function(){return this.props.sliders.map(function(e,t){var n=e.link.replace(/^\//,u.BASE_HOST);return l.default.createElement("div",{className:"swiper-slide banner",key:t},l.default.createElement("a",{href:e.linktarget},l.default.createElement("img",{className:"img swiper-lazy","data-src":n})),l.default.createElement("div",{className:"swiper-lazy-preloader"}))})}},{key:"render",value:function(){return l.default.createElement("div",{ref:"slider",className:"swiper-container"},l.default.createElement("div",{className:"swiper-wrapper"},this.renderSlider()),l.default.createElement("div",{className:"swiper-pagination"}))}}]),t}(),r.propTypes={sliders:c.default.array},a);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=n(2),l=n(1);var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isInsApp:!1,opacity:0,value:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.install;window.addEventListener("scroll",function(){var n=(0,i.getScrollTop)(),r=n>50,a=n/1e3;a>1||a.toFixed(1);e.setState({isInsApp:!!t||r,opacity:a.toFixed(1)})})}},{key:"handleChange",value:function(e){var t=e.target.value;this.setState({value:t})}},{key:"render",value:function(){var e=this,t=this.state,n=t.isInsApp,r=t.opacity,a=this.props.index.shops,c={top:n?"0":"50px",backgroundColor:"rgba(237,103,74,"+r+")"},u=(0,i.isArray)(a)?a[0].shop_name:"";return o.default.createElement("div",{style:c,className:"search-bar"},o.default.createElement("a",{href:l.BASE_HOST+"oto/shop-list.html",className:"shop-link"},o.default.createElement("i",{className:"icon-point"}),o.default.createElement("span",{className:"shop-name ellipsis"},u)),o.default.createElement("form",{action:l.BASE_HOST+"wap/item-list.html",method:"post",className:"search-box"},o.default.createElement("i",{className:"iconfont icon-zoom"}),o.default.createElement("input",{type:"text",name:"search_keywords",placeholder:"附近的店铺、商品",value:this.state.value,onChange:function(t){e.handleChange(t)}})),o.default.createElement("div",{className:"iconfont icon-guangbo icon-cost"}))}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=u(a),i=u(n(5)),l=n(1),c=n(2);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={active:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=(0,c.localCache)(l.INSTALL_APP);this.setState({active:!e}),e||this.onViewScroll()}},{key:"onViewScroll",value:function(){var e=this;window.addEventListener("scroll",function(){var t=!((0,c.getScrollTop)()>50);e.setState({active:t})})}},{key:"handleClick",value:function(){(0,c.localCache)(l.INSTALL_APP,1),location.href=l.BASE_HOST+"downloadPage/default.html"}},{key:"render",value:function(){var e=this.state.active,t=(0,i.default)("app-download-bar",{show:e});return o.default.createElement("div",{className:t,onClick:this.handleClick},o.default.createElement("div",{className:"flex bar"},o.default.createElement("div",{className:"logo"}),o.default.createElement("div",{className:"app-down"},o.default.createElement("div",{className:"app-name"},"友阿微店APP"),o.default.createElement("div",{className:"app-desc"},"002277友阿股份旗下新零售平台")),o.default.createElement("div",{className:"app-tip"},"立即打开")))}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Index=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=E(o),l=E(n(72)),c=E(n(71)),u=E(n(70)),s=E(n(69)),f=E(n(68)),d=E(n(67)),p=E(n(66)),m=E(n(15)),h=E(n(60)),g=E(n(59)),v=E(n(14)),y=n(1),b=n(2);function E(e){return e&&e.__esModule?e:{default:e}}t.Index=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isInsApp:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=(0,b.localCache)(y.INSTALL_APP),n=(0,b.localCache)(y.GPS_KEY);n?this.props.getNearStore(n):this.getGeoLocation(function(t){e.props.getNearStore(t)}),this.setState({isInsApp:t})}},{key:"getGeoLocation",value:function(e){var t={latitude:28.234589,longitude:112.913554};(0,b.isWechat)()?(0,b.fetchApi)("/index/weixin",{method:"POST",data:{url:encodeURIComponent(document.location.href)}}).then(function(n){var r=n.appId,a=n.nonceStr,o=n.signature,i=n.timestamp;(0,b.getLocationByWeixin)({appId:r,nonceStr:a,signature:o,timestamp:i},function(n){n&&(t=n,(0,b.localCache)(y.GPS_KEY,t)),e(t)})}):(0,b.navigatorGeolocation)(function(n){n&&(t=n,(0,b.localCache)(y.GPS_KEY,t)),e(t)})}},{key:"renderWidgets",value:function(){var e=this.props.index,t=e.modules,n=e.more_url,r=[];return t.forEach(function(e,t){switch(e.widget){case"slider":r.push(i.default.createElement(u.default,{sliders:e.params.pic,key:"slider_"+t}));break;case"icons_nav":r.push(i.default.createElement(s.default,{icons:e.params.pic,key:"nav_"+t}));break;case"ad_content":r.push(i.default.createElement(f.default,{message:e.params.ad_content,more:n,key:"ad_"+t}));break;case"floor":r.push(i.default.createElement(p.default,{params:e.params,key:"floor_"+t}))}}),r}},{key:"render",value:function(){var e=this.state.isInsApp,t={height:e?"0":"50px"},n=this.renderWidgets();return n.splice(3,0,i.default.createElement(d.default,r({},this.props,{key:"shop"}))),i.default.createElement("div",{className:"app-wrap"},i.default.createElement(l.default,null),i.default.createElement(c.default,r({},this.props,{install:e})),i.default.createElement("div",{style:t}),n,i.default.createElement(h.default,this.props),i.default.createElement(m.default,null),i.default.createElement(g.default,null),i.default.createElement(v.default,null))}}]),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(4),o=n(2),i=n(26);function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var c=(0,a.combineReducers)({index:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case i.START_FETCH_LIST:return r({},e,{isFetching:!0,isFetched:!1});case i.FINISH_FETCH_LIST:var n=t.res,a=t.param,c=function(e,t){return(0,o.isArray)(e)?(0,o.isArray)(t)?[].concat(l(e),l(t)):e:(0,o.isArray)(t)?t:[]}(e.goodsList,n.list),u=a.page+1,s=!(0,o.isArray)(n.list)||!n.list.length;return r({},e,{goodsList:c,pageIndex:u,isFetched:s,isFetching:!1});case i.START_GET_STORE:return r({},e,{isUpdating:!0,isUpdated:!1});case i.FINISH_GET_STORE:var f=t.res?t.res.message:null;return r({},e,{isUpdating:!1,isUpdated:!0,coords:t.param,shops:f});default:return e}}});t.default=c},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=d(a),i=n(11),l=d(n(74)),c=n(7),u=d(c),s=n(73),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(58));function d(e){return e&&e.__esModule?e:{default:e}}var p=(0,i.connect)(function(e){return e})((0,c.wrapComponentWithActions)(s.Index,f));var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props.initialState,t=function(e){return(0,u.default)(l.default,e)}({index:{modules:e.modules,more_url:e.more_url,goodsList:[],pageIndex:1,isFetching:!1,isFetched:!1}});return o.default.createElement(i.Provider,{store:t},o.default.createElement(p,null))}}]),t}();t.default=m},,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n(88);var r=i(n(0)),a=i(n(9)),o=i(n(78));function i(e){return e&&e.__esModule?e:{default:e}}var l=JSON.parse(document.getElementById("initial-state").textContent);a.default.hydrate(r.default.createElement(o.default,{initialState:l}),document.getElementById("app"))}],[[89,2,0]]]);