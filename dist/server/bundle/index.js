module.exports=function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n.oe=function(e){process.nextTick(function(){throw e})},n(n.s=51)}([function(e,t){e.exports=require("react")},function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function r(e,t){localStorage.setItem(e,t)}function o(e){return localStorage.getItem(e)}t.isWechat=function(){var e=navigator.userAgent.toLowerCase();return/micromessenger/i.test(e)},t.getScrollTop=function(){var e=0,t=0;return document.body&&(e=document.body.scrollTop),document.documentElement&&(t=document.documentElement.scrollTop),e-t>0?e:t},t.getScrollHeight=function(){var e=0,t=0;return document.body&&(e=document.body.scrollHeight),document.documentElement&&(t=document.documentElement.scrollHeight),e-t>0?e:t},t.localCache=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!t){var a=o(e+"_time"),i=void 0;if(Date.now()-a>0)return!1;var l=o(e);try{i=JSON.parse(l)}catch(e){i=l}return i}r(e,"string"==typeof t?t:JSON.stringify(t)),r(e+"_time",Date.now()+1e3*n)},t.setCookie=function(e,t,n,a,r){var o=new Date,i=e+"="+escape(t);o.setDate(o.getDate()+n),n&&(i+=";expires="+o.toGMTString()),a&&(i+=";path="+a),r&&(i+=";domain="+r),console.log(i),document.cookie=i},t.distance=function(e,t,n,a){var r=function(e){return e*Math.PI/180};if(!(e&&t&&n&&a))return"";var o=r(e),i=r(n),l=o-i,c=r(t)-r(a),u=2*Math.asin(Math.sqrt(Math.pow(Math.sin(l/2),2)+Math.cos(o)*Math.cos(i)*Math.pow(Math.sin(c/2),2)));return(u*=6378137)>1e3?(u/=10,(u=parseInt(u))/100+"千米"):(u=Math.round(100*u)/100)+"米"},t.throttle=function(e,t){var n=void 0,a=void 0,r=void 0,o=Date.now();return function(){var i=Date.now(),l=t-(i-o);a=this,r=arguments,clearTimeout(n),l<=0?(e.apply(a,r),o=Date.now()):n=setTimeout(e,l)}},t.fetchApi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a({timeout:3e4,headers:{"Content-Type":"application/json"}},t);return Promise.resolve().then(n.t.bind(null,9,7)).then(function(t){return(0,t.default)(e,r).then(function(e){return e.data})})},t.createNonceStr=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t="ABCDEFGHJKMNPQRSTWXYZLOVUIabcdefhijkmnpolurstwxyz12345678",n=t.length,a="",r=0;r<e;r++)a+=t.charAt(Math.floor(Math.random()*n));return a},t.checkphone=function(e){return!!/^1(3|4|5|7|8)\d{9}$/.test(e)},t.isObject=function(e){return"[object Object]"==Object.prototype.toString.call(e)},t.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)},t.platform={isAndroid:function(){return!!navigator.userAgent.match(/Android/i)},isIOS:function(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)},isWx:function(){return!!navigator.userAgent.match(/micromessenger/i)},isQQ:function(){return!!navigator.userAgent.match(/QQ/i)}}},function(e,t,n){"use strict";var a={host:"https://wd.hnmall.com/",api:"https://wd.hnmall.com/",appid:"wxdbb96d20de9ed62a"};a.host="https://www.hnmall.com/",a.api="https://www.hnmall.com/",a.appid="wx990c87a05d829cd0",e.exports=a},function(e,t){e.exports=require("classnames")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GPS_KEY="__geolocation__",t.TOKEN="__accessToken__",t.AGENTID="__agentid__",t.INSTALL_APP="install_hnmall_app"},function(e,t){e.exports=require("redux")},function(e,t){e.exports=require("swiper")},function(e,t){e.exports=require("redux-thunk")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.wrapComponentWithActions=function(e,t){return function(n){function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,n),r(i,[{key:"render",value:function(){return l.default.createElement(e,a({},this.props,(0,o.bindActionCreators)(t,this.props.dispatch)))}}]),i}(i.Component)};var o=n(5),i=n(0),l=u(i),c=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}var s=(0,o.compose)((0,o.applyMiddleware)(c.default))(o.createStore);t.default=s},function(e,t){e.exports=require("axios")},function(e,t){e.exports=require("react-redux")},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),i=(c(o),n(1)),l=n(4);c(n(2));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){if(!(0,i.isWechat)())return!1;var e=(0,i.localCache)(l.TOKEN);this.checkToken(e),this.setWeixinShare()}},{key:"setWeixinShare",value:function(e,t){var n=this,a=this.props.info,r=a.title,o=a.desc,c=a.image,u=document.location.href;(0,i.fetchApi)("/index/weixin",{method:"POST",data:{url:encodeURIComponent(u)}}).then(function(a){var s=(0,i.localCache)(l.AGENTID)||e;if(!s)return!t&&n.getUserInfo(),!1;n.wxShare({appId:a.appId,nonceStr:a.nonceStr,signature:a.signature,timestamp:a.timestamp,agentid:s,title:r,link:u,desc:o,imgUrl:c},function(e){(0,i.fetchApi)("/index/wxshare",{method:"POST",data:e})})})}},{key:"checkToken",value:function(e){var t=this;(0,i.fetchApi)("/index/checktoken",{method:"POST",data:{token:e}}).then(function(e){0!==e.code&&t.getUserInfo()})}},{key:"parseUrl",value:function(e){for(var t=window.location.search.replace("?","").split("&"),n="",a=0;a<t.length;a++){var r=t[a].split("=");if(r[0]===e){n=r[1];break}}return n}},{key:"getUserInfo",value:function(){var e=this,t=this.parseUrl("code"),n=config.host,a=config.appid;if(!t){var r=n+"weidian/get-code.html?appid="+a+"&state="+(0,i.createNonceStr)(16)+"&scope=snsapi_base&redirect_uri="+encodeURIComponent(location.href);return location.href=r,!1}(0,i.fetchApi)("/index/token",{method:"POST",data:{code:t}}).then(function(t){if(t&&t.message){var n=t.message,a=n.accessToken,r=n.agent_id;(0,i.localCache)(l.TOKEN,a,604800),(0,i.localCache)(l.AGENTID,r,2592e3),e.setWeixinShare(r,!0)}})}},{key:"wxShare",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(void 0===("undefined"==typeof wx?"undefined":a(wx)))return!1;var n=e.agentid,r=e.title,o=e.desc,i=e.imgUrl,l=e.link,c=e.type;wx.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo"]}),-1===l.indexOf("agent_id=")&&(l=-1!==l.indexOf("?")?l+"&agent_id="+n:l+"?agent_id="+n);var u={title:r,desc:o,link:l,imgUrl:i,success:function(){t&&t({type:c||"news",title:r,link:l,desc:o})}};wx.ready(function(){wx.onMenuShareTimeline(u),wx.onMenuShareAppMessage(u),wx.onMenuShareQQ(u),wx.onMenuShareWeibo(u)})}},{key:"render",value:function(){return""}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(0),o=c(r),i=c(n(3)),l=n(1);function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.state={active:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=Math.ceil(2*window.innerHeight);window.addEventListener("scroll",function(){var n=(0,l.getScrollTop)()>t;e.setState({active:n})})}},{key:"handleClick",value:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,this.setState({active:!1})}},{key:"render",value:function(){var e=this.state.active,t=(0,i.default)("app-go-top",{active:e});return o.default.createElement("div",{className:t,onClick:this.handleClick})}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(0),o=l(r),i=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=i.default.host;return o.default.createElement("div",{className:"app-foot-bar"},o.default.createElement("a",{className:"foot-bar-item",href:"/"},o.default.createElement("img",{className:"icon",src:e+"themes/mobilemall/images/d-icon1.png"}),o.default.createElement("span",null,"首页")),o.default.createElement("a",{className:"foot-bar-item",href:"/category.html"},o.default.createElement("img",{className:"icon",src:"https://www.hnmall.com/themes/mobilemall/images/d-icon2.png"}),o.default.createElement("span",null,"分类")),o.default.createElement("a",{className:"foot-bar-item",href:e+"wap/cart.html"},o.default.createElement("img",{className:"cart",src:"https://www.hnmall.com/themes/mobilemall/images/d-icon3.jpg"}),o.default.createElement("span",null,"购物车")),o.default.createElement("a",{className:"foot-bar-item",href:e+"weidian/store-index.html"},o.default.createElement("img",{className:"icon",src:"https://www.hnmall.com/themes/mobilemall/images/d-icon4.png"}),o.default.createElement("span",null,"店铺")),o.default.createElement("a",{className:"foot-bar-item",href:e+"wap/member.html"},o.default.createElement("img",{className:"icon",src:"https://www.hnmall.com/themes/mobilemall/images/d-icon5.png"}),o.default.createElement("span",null,"会员")))}}]),t}();t.default=c},function(e,t){e.exports=require("react-lazyload")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n(4);var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"handleChange",value:function(e){var t=e.target.value;"666666"==t&&localStorage.clear(),this.setState({value:t})}},{key:"render",value:function(){var e=this,t=this.props.placeholder,n=this.state.value;return o.default.createElement("div",{className:"app-search-box"},o.default.createElement("form",{action:i.BASE_HOST+"wap/item-list.html?search_keywords="+n,method:"post",className:"search"},o.default.createElement("i",{className:"iconfont icon-zoom"}),o.default.createElement("input",{type:"text",name:"search_keywords",placeholder:t,value:this.state.value,onChange:function(t){e.handleChange(t)}})))}}]),t}();t.default=l},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.START_FETCH_LIST="START_FETCH_LIST",t.FINISH_FETCH_LIST="FINISH_FETCH_LIST",t.START_GET_STORE="START_GET_STORE",t.FINISH_GET_STORE="FINISH_GET_STORE",t.START_FETCH_MODULES="START_FETCH_MODULES",t.FINISH_FETCH_MODULES="FINISH_FETCH_MODULES",t.LOCAL_CACHE_MODULES="__index_modules__"},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchGoods=function(e){return function(t){t(function(e){return{type:o.START_FETCH_LIST,param:e}}(e)),(0,a.fetchApi)("/index/goodslist",{method:"POST",data:{page:e.page,size:e.size,token:e.token}}).then(function(n){t(function(e,t){return{type:o.FINISH_FETCH_LIST,param:e,res:t}}(e,n))})}},t.getNearStore=function(e){e||(e={latitude:28.194104,longitude:113.013206});return function(t){t({type:o.START_GET_STORE}),(0,a.fetchApi)("/index/shop",{method:"POST",data:{lat:e.latitude,lng:e.longitude}}).then(function(n){(0,a.localCache)(r.GPS_KEY,e,3600),t(function(e,t){return{type:o.FINISH_GET_STORE,param:e,res:t}}(e,n))}).catch(function(e){console.log(e)})}},t.fetchIndexModules=function(){return function(e){e({type:o.START_FETCH_MODULES});var t=(0,a.localCache)(o.LOCAL_CACHE_MODULES);t?e(i(t)):(0,a.fetchApi)("/index/modules",{method:"POST"}).then(function(t){(0,a.localCache)(o.LOCAL_CACHE_MODULES,t,3600),e(i(t))})}};var a=n(1),r=n(4),o=n(20);function i(e){return{type:o.FINISH_FETCH_MODULES,res:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r);var i=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"render",value:function(){return o.default.createElement("div",{className:"copy-right"},o.default.createElement("a",{target:"_blank",href:"http://www.miibeian.gov.cn"},"湘ICP备14013772-3"),o.default.createElement("a",{target:"_blank",href:"https://www.hnmall.com/icp.html"},"增值电信业务经营许可证:湘B2-20140095"))}}]),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(0),o=s(r),i=s(n(15)),l=n(1),c=n(4),u=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isReachButton:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"componentDidMount",value:function(){var e=this;this.token=(0,l.localCache)(c.TOKEN)||"";var t=window.innerHeight;window.addEventListener("scroll",(0,l.throttle)(function(n){var a=(0,l.getScrollTop)(),r=(0,l.getScrollHeight)();(a+t)/r>.4&&e.fetchGoodsList()},200),!1)}},{key:"fetchGoodsList",value:function(){var e=this.props.index,t=e.pageIndex,n=void 0===t?1:t,a=e.isFetching,r=e.isFetched,o=e.goodsList;return!a&&(!r&&(o.length>=200?(this.setState({isReachButton:!0}),!1):void this.props.fetchGoods({page:n,size:20,token:this.token})))}},{key:"renderList",value:function(){var e=this.props.index.goodsList,t=u.default.host;if(!(0,l.isArray)(e))return"";var n=o.default.createElement("img",{src:t+"res/images/cplogo.jpg"}),a=e.map(function(e,a){var r=e.price.split(".");return o.default.createElement("div",{className:"goods-list-item",key:e.item_id},o.default.createElement("a",{href:t+"wap/item-detail.html?item_id="+e.item_id},o.default.createElement("div",{className:"goods-img"},o.default.createElement(i.default,{once:!0,height:177,offsetVertical:200,placeholder:n},o.default.createElement("img",{src:e.image_default_id,className:"img"}))),o.default.createElement("div",{className:"goods-title mutiple-text"},e.title),o.default.createElement("div",{className:"goods-price"},o.default.createElement("span",{className:"sign"},"￥"),o.default.createElement("span",{className:"price"},r[0]),o.default.createElement("b",{className:"price-s"},".",r[1]),o.default.createElement("span",{className:"mkt-price"},e.mkt_price),o.default.createElement("i",{className:"buy"},"马上抢"))))});return o.default.createElement("div",{className:"goods-list"},a)}},{key:"render",value:function(){var e=this.props.index.isFetching,t=this.state.isReachButton,n={display:e?"block":"none"},a={display:t?"block":"none"};return o.default.createElement("div",{className:"wrap"},o.default.createElement("div",{className:"goods-list-title"},"猜你喜欢"),this.renderList(),o.default.createElement("div",{className:"lazy-load-wrap",style:n},o.default.createElement("div",{className:"swiper-lazy-preloader"}),o.default.createElement("div",{className:"lazy-load-text"},"加载中...")),o.default.createElement("div",{style:a,className:"more-goods"},o.default.createElement("a",{href:"/category.html"},o.default.createElement("span",null,"没有找到想要的商品?换个方式"),o.default.createElement("i",{className:"iconfont icon-more"}))))}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(0),o=l(r),i=l(n(15));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"gridStyleOne",value:function(e){return o.default.createElement("div",{className:"widget-grid flex"},o.default.createElement("a",{className:"widget grid-half",href:e[0].h5link},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[0].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-half",href:e[1].h5link},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[1].image,className:"img"}))))}},{key:"gridStyleTwo",value:function(e){return o.default.createElement("div",{className:"widget-grid flex","data-type":"two"},o.default.createElement("div",{className:"widget grid-half"},o.default.createElement("a",{className:"widget b-b-l",href:e[0].h5link},o.default.createElement(i.default,{once:!0,height:121},o.default.createElement("img",{src:e[0].image,className:"img"}))),o.default.createElement("div",{className:"flex"},o.default.createElement("a",{className:"widget grid-half",href:e[1].h5link},o.default.createElement(i.default,{once:!0,height:121},o.default.createElement("img",{src:e[1].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-half",href:e[2].h5link},o.default.createElement(i.default,{once:!0,height:121},o.default.createElement("img",{src:e[2].image,className:"img"}))))),o.default.createElement("a",{className:"widget grid-half",href:e[3].h5link},o.default.createElement(i.default,{once:!0,height:242},o.default.createElement("img",{src:e[3].image,className:"img"}))))}},{key:"gridStyleThree",value:function(e){return o.default.createElement("div",{className:"widget-grid flex","data-type":"three"},o.default.createElement("a",{className:"widget grid-half",href:e[0].h5link},o.default.createElement(i.default,{once:!0,height:242},o.default.createElement("img",{src:e[0].image,className:"img"}))),o.default.createElement("div",{className:"widget grid-half"},o.default.createElement("a",{className:"widget b-b-l",href:e[1].h5link},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[1].image,className:"img"}))),o.default.createElement("div",{className:"flex"},o.default.createElement("a",{className:"widget grid-half",href:e[2].h5link},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[2].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-half",href:e[3].h5link},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[3].image,className:"img"}))))))}},{key:"gridStyleFour",value:function(e){return o.default.createElement("div",{className:"widget-grid","data-type":"four"},o.default.createElement("div",{className:"flex"},o.default.createElement("a",{className:"widget grid-half",href:e[0].h5link},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[0].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-half",href:e[1].h5link},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[1].image,className:"img"})))),o.default.createElement("div",{className:"flex"},o.default.createElement("a",{className:"widget grid-25",href:e[2].h5link},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[2].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-25",href:e[3].h5link},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[3].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-half",href:e[4].h5link},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[4].image,className:"img"})))))}},{key:"gridStyleFive",value:function(e){return o.default.createElement("div",{className:"widget-grid","data-type":"five"},o.default.createElement("div",{className:"flex"},o.default.createElement("a",{className:"widget grid-half",href:e[0].h5link},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[0].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-half",href:e[1].h5link},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[1].image,className:"img"})))),o.default.createElement("div",{className:"flex"},o.default.createElement("a",{className:"widget grid-25",href:e[2].h5link},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[2].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-25",href:e[3].h5link},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[3].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-25",href:e[4].h5link},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[4].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-25",href:e[5].h5link},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[5].image,className:"img"})))))}},{key:"gridStyleSix",value:function(e){return o.default.createElement("div",{className:"widget-grid","data-type":"six"},o.default.createElement("div",{className:"flex"},o.default.createElement("a",{className:"widget grid-33",href:e[0].h5link},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[0].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-33",href:e[1].h5link},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[1].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-33",href:e[2].h5link},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[2].image,className:"img"})))),o.default.createElement("div",{className:"flex"},o.default.createElement("a",{className:"widget grid-33",href:e[3].h5link},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[3].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-33",href:e[4].h5link},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[4].image,className:"img"}))),o.default.createElement("a",{className:"widget grid-33",href:e[5].h5link},o.default.createElement(i.default,{once:!0,height:120},o.default.createElement("img",{src:e[5].image,className:"img"})))))}},{key:"renderGrid",value:function(){var e=this.props.params;if(Array.isArray(e.pic))switch(e.styletag){case"one":return this.gridStyleOne(e.pic);case"two":return this.gridStyleTwo(e.pic);case"three":return this.gridStyleThree(e.pic);case"four":return this.gridStyleFour(e.pic);case"five":return this.gridStyleFive(e.pic);case"six":return this.gridStyleSix(e.pic);default:return""}}},{key:"render",value:function(){var e=this.props.params.title;return o.default.createElement("div",{className:"widget-grid"},o.default.createElement("div",{className:"widget-grid-title"},e),this.renderGrid())}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),i=s(o),l=n(1),c=s(n(15)),u=(n(4),s(n(2)));function s(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;Promise.resolve().then(n.t.bind(null,6,7)).then(function(t){new(0,t.default)(e.refs.store,{slidesPerView:4,preloadImages:!1})}),this.getGeoLocation()}},{key:"getLocationByWeixin",value:function(e){if(void 0===("undefined"==typeof wx?"undefined":a(wx)))return!1;wx.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["checkJsApi","openLocation","getLocation"]});var t=this,n=this.props.getNearStore;wx.ready(function(){wx.checkJsApi({jsApiList:["getLocation"],success:function(e){wx.getLocation({type:"wgs84",success:function(e){var t={latitude:e.latitude,longitude:e.longitude,speed:e.speed,accuracy:e.accuracy};n(t)},fail:function(){console.log("error***weixin"),t.tencentGelocation()}})},fail:function(){t.tencentGelocation()}})})}},{key:"navigatorGeolocation",value:function(){var e=this,t=this.props.getNearStore;"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(e){console.log("ok",e),t({latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy})},function(t){console.log(t),e.tencentGelocation()},{timeout:5e3,maximumAge:6e4}):this.tencentGelocation()}},{key:"tencentGelocation",value:function(){var e=this.props.getNearStore;new qq.maps.Geolocation("PMOBZ-DSBK6-7NQSZ-EUK5J-A4PR6-DEB4V","hnmall").getLocation(function(t){var n={latitude:t.lat,longitude:t.lng,accuracy:t.accuracy};e(n)},function(t){e()},{timeout:1e4})}},{key:"getGeoLocation",value:function(){var e=this;(0,l.isWechat)()?(0,l.fetchApi)("/index/weixin",{method:"POST",data:{url:encodeURIComponent(location.href)}}).then(function(t){e.getLocationByWeixin(t)}):this.navigatorGeolocation()}},{key:"storePublicGoods",value:function(){var e=this.props.index.shops,t=u.default.host,n=[];return!(0,l.isArray)(e)||e.length<1?"":(e.forEach(function(e){e.store.forEach(function(a,r){n.push(i.default.createElement("div",{className:"swiper-slide store-goods-item",key:r},i.default.createElement("a",{href:t+"wap/prepare-item.html?shop_id="+e.shop_id+"&item_id="+a.item_id},i.default.createElement(c.default,{once:!0,height:80},i.default.createElement("img",{src:a.image,className:"img"})),i.default.createElement("span",{className:"price"},"￥"+a.price))))})}),n)}},{key:"nearStoreList",value:function(){var e=this.props.index,t=e.shops,n=e.coords,a=u.default.host,r=[];return!(0,l.isArray)(t)||t.length<1?"":(t.forEach(function(e,t){var o=(0,l.distance)(n.latitude,n.longitude,e.dimensions,e.longitude);r.push(i.default.createElement("div",{className:"flex shop-item",key:t},i.default.createElement("a",{className:"shop-img",href:a+"oto/shop-index.html?shop_id="+e.shop_id},i.default.createElement(c.default,{once:!0,height:88},i.default.createElement("img",{src:e.shopLogo,className:"img"}))),i.default.createElement("div",{className:"shop-info"},i.default.createElement("div",{className:"flex flex-around"},i.default.createElement("span",{className:"shop-name"},e.shop_name),i.default.createElement("i",{className:"distance"},"距离",o),i.default.createElement("a",{className:"shop-path",href:a+"oto/shop-index.html?shop_id="+e.shop_id},"去这里",i.default.createElement("i",{className:"iconfont icon-zuji"}))),i.default.createElement("div",{className:"coupon"},i.default.createElement("a",{href:a+"wap/s-coupon.html"},i.default.createElement("span",{className:"coupon-tag"},"领券"),"优惠券领取中心")))))}),r)}},{key:"renderShopIcon",value:function(e,t){for(var n=[],a=0;a<e.length;a++){var r=e[a];if("shop_icon"===r.widget){n=r.params.pic;break}}return n.map(function(e,n){return i.default.createElement("div",{className:"grid-half",key:"icon_"+n},i.default.createElement("a",{className:"widget",href:e.h5link+"?shop_id="+t},i.default.createElement(c.default,{once:!0,height:120},i.default.createElement("img",{src:e.image,className:"img"}))))})}},{key:"render",value:function(){var e=this.props.index,t=e.shops,n=e.modules,a=(0,l.isArray)(t)?t[0].shop_id:"",r=u.default.host;return i.default.createElement("div",{className:"near-store"},i.default.createElement("div",{className:"store-title"},i.default.createElement("span",null,"附近的微店"),i.default.createElement("a",{className:"store-link",href:r+"oto/shop-list.html"},i.default.createElement("span",null,"更多店铺"),i.default.createElement("i",{className:"iconfont icon-more"}))),i.default.createElement("div",{className:"store-list"},this.nearStoreList()),i.default.createElement("div",{className:"store-title"},i.default.createElement("span",null,"年度优惠套餐"),i.default.createElement("a",{className:"store-link",href:r+"wap/prepare-index.html?shop_id="+a},i.default.createElement("span",null,"更多"),i.default.createElement("i",{className:"iconfont icon-more"}))),i.default.createElement("div",{className:"line"}),i.default.createElement("div",{ref:"store",className:"store-goods swiper-container"},i.default.createElement("div",{className:"swiper-wrapper"},this.storePublicGoods())),i.default.createElement("div",{className:"flex"},this.renderShopIcon(n,a)))}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n(1);var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"componentDidMount",value:function(){var e=this;if(!this.refs.marquee)return!1;Promise.resolve().then(n.t.bind(null,6,7)).then(function(t){new(0,t.default)(e.refs.marquee,{direction:"vertical",loop:!0,autoplay:5e3})})}},{key:"render",value:function(){var e=this.props,t=e.more,n=e.message;if(!(0,i.isArray)(n))return"";var a=n.map(function(e,t){return o.default.createElement("div",{className:"swiper-slide",key:t},o.default.createElement("a",{className:"swiper-slide-row",href:e.link},e.linkinfo))});return o.default.createElement("div",{className:"swiper-message"},o.default.createElement("div",{className:"message-slogan"},"友阿",o.default.createElement("span",null,"快报")),o.default.createElement("div",{ref:"marquee",className:"swiper-container"},o.default.createElement("div",{className:"swiper-wrapper"},a)),o.default.createElement("div",{className:"message-core"},"| ",o.default.createElement("a",{href:t},"更多")))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n(1);var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"render",value:function(){var e=this.props.icons;if(!(0,i.isArray)(e))return"";var t=e.map(function(e,t){return o.default.createElement("div",{className:"nav-menu-item",key:t},o.default.createElement("a",{href:e.h5link},o.default.createElement("img",{className:"nav-menu-icon",src:e.image,alt:e.tag}),o.default.createElement("span",{className:"nav-menu-text"},e.tag)))});return o.default.createElement("div",{className:"nav-menu"},t)}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n(1);var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"componentDidMount",value:function(){var e=this;if(!this.refs.slider)return!1;Promise.resolve().then(n.t.bind(null,6,7)).then(function(t){new(0,t.default)(e.refs.slider,{autoplay:5e3,lazyLoading:!0,pagination:".swiper-pagination"})})}},{key:"render",value:function(){var e=this.props.sliders;if(!(0,i.isArray)(e))return"";var t=e.map(function(e,t){return o.default.createElement("div",{className:"swiper-slide banner",key:t},o.default.createElement("a",{href:e.linktarget},o.default.createElement("img",{className:"img swiper-lazy","data-src":e.link})),o.default.createElement("div",{className:"swiper-lazy-preloader"}))});return o.default.createElement("div",{ref:"slider",className:"swiper-container"},o.default.createElement("div",{className:"swiper-wrapper"},t),o.default.createElement("div",{className:"swiper-pagination"}))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(0),o=s(r),i=s(n(16)),l=n(1),c=n(4),u=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isInsApp:!1,opacity:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=(0,l.localCache)(c.INSTALL_APP);this.setState({isInsApp:t}),window.addEventListener("scroll",(0,l.throttle)(function(n){var a=(0,l.getScrollTop)(),r=a>50,o=a/200,i=o>1?1:o.toFixed(1);if(e.state.opacity>=1&&r>200)return!1;e.setState({isInsApp:!!t||r,opacity:i})},100),!1)}},{key:"render",value:function(){var e=this.state,t=e.isInsApp,n=e.opacity,a=this.props.index.shops,r=u.default.host,c={top:t?"0":"50px",backgroundColor:"rgba(237,103,74,"+n+")"},s=(0,l.isArray)(a)?a[0].shop_name:"",f={display:t?"none":"block",height:"50px"};return o.default.createElement("div",{className:"shearch-box"},o.default.createElement("div",{style:c,className:"search-bar"},o.default.createElement("a",{href:r+"oto/shop-list.html",className:"shop-link"},o.default.createElement("i",{className:"icon-point"}),o.default.createElement("span",{className:"shop-name ellipsis"},s)),o.default.createElement(i.default,{placeholder:"附近的店铺、商品"}),o.default.createElement("div",{className:"iconfont icon-guangbo icon-cost"})),o.default.createElement("div",{style:f}))}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(0),o=u(r),i=u(n(3)),l=n(4),c=n(1);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={active:!1},n.handleClick=n.handleClick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"componentDidMount",value:function(){var e=(0,c.localCache)(l.INSTALL_APP);this.setState({active:!e}),e||this.onViewScroll()}},{key:"onViewScroll",value:function(){var e=this;window.addEventListener("scroll",(0,c.throttle)(function(){var t=!((0,c.getScrollTop)()>50);e.setState({active:t})},50),!1)}},{key:"handleClick",value:function(){location.href="https://www.hnmall.com/downloadPage/default.html"}},{key:"render",value:function(){var e=this.state.active,t=(0,i.default)("app-download-bar",{show:e});return o.default.createElement("div",{className:t,onClick:this.handleClick},o.default.createElement("div",{className:"flex bar"},o.default.createElement("div",{className:"logo"}),o.default.createElement("div",{className:"app-down"},o.default.createElement("div",{className:"app-name"},"友阿微店APP"),o.default.createElement("div",{className:"app-desc"},"002277友阿股份旗下新零售平台")),o.default.createElement("div",{className:"app-tip"},"立即打开")))}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Index=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),i=b(o),l=b(n(47)),c=b(n(46)),u=b(n(45)),s=b(n(44)),f=b(n(43)),d=b(n(42)),m=b(n(41)),p=b(n(14)),h=b(n(40)),g=b(n(39)),y=b(n(13)),v=b(n(12));b(n(2));function b(e){return e&&e.__esModule?e:{default:e}}t.Index=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){this.props.fetchIndexModules()}},{key:"renderWidgets",value:function(){var e=this.props.index,t=e.modules,n=e.more_url,a=[];return t.forEach(function(e,t){switch(e.widget){case"slider":a.push(i.default.createElement(u.default,{sliders:e.params.pic,key:"slider_"+t}));break;case"icons_nav":a.push(i.default.createElement(s.default,{icons:e.params.pic,key:"nav_"+t}));break;case"ad_content":a.push(i.default.createElement(f.default,{message:e.params.ad_content,more:n,key:"ad_"+t}));break;case"floor":a.push(i.default.createElement(m.default,{params:e.params,key:"floor_"+t}))}}),a}},{key:"render",value:function(){var e=this.renderWidgets();return e.splice(3,0,i.default.createElement(d.default,a({},this.props,{key:"shop"}))),i.default.createElement("div",{className:"app-wrap"},i.default.createElement(l.default,null),i.default.createElement(c.default,this.props),e,i.default.createElement(h.default,this.props),i.default.createElement(p.default,null),i.default.createElement(g.default,null),i.default.createElement(y.default,null),i.default.createElement(v.default,{info:{title:"友阿微店--更高品质,便捷生活",desc:"友阿微店--更高品质,便捷生活",image:"https://www.hnmall.com/images/3a/e5/c5/076ec271495f7494427fad42f6c0d2443189019b.jpg"}}))}}]),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(5),o=n(1),i=n(20);function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var c=(0,r.combineReducers)({index:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case i.START_FETCH_MODULES:return a({},e,{isGetching:!0,isGetched:!1});case i.FINISH_FETCH_MODULES:var n=t.res.modules,r=n.modules,c=n.more_url;return a({},e,{isGetching:!1,isGetched:!0,modules:r,more_url:c});case i.START_FETCH_LIST:return a({},e,{isFetching:!0,isFetched:!1});case i.FINISH_FETCH_LIST:var u=t.res,s=t.param,f=function(e,t){return(0,o.isArray)(e)?(0,o.isArray)(t)?[].concat(l(e),l(t)):e:(0,o.isArray)(t)?t:[]}(e.goodsList,u.list),d=s.page+1,m=!(0,o.isArray)(u.list)||!u.list.length;return a({},e,{goodsList:f,pageIndex:d,isFetched:m,isFetching:!1});case i.START_GET_STORE:return a({},e,{isUpdating:!0,isUpdated:!1});case i.FINISH_GET_STORE:var p=t.res?t.res.message:null;return a({},e,{isUpdating:!1,isUpdated:!0,coords:t.param,shops:p});default:return e}}});t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(0),o=d(r),i=n(10),l=d(n(49)),c=n(8),u=d(c),s=n(48),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(38));function d(e){return e&&e.__esModule?e:{default:e}}var m=(0,i.connect)(function(e){return e})((0,c.wrapComponentWithActions)(s.Index,f));var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"render",value:function(){var e=this.props.initialState,t=e.modules,n=e.more_url,a=function(e){return(0,u.default)(l.default,e)}({index:{config:e.config,modules:t,more_url:n,goodsList:[],pageIndex:1,isFetching:!1,isFetched:!1}});return o.default.createElement(i.Provider,{store:a},o.default.createElement(m,null))}}]),t}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(0)),r=o(n(50));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return new Promise(function(t,n){t({app:a.default.createElement(r.default,{initialState:e})})})}}]);