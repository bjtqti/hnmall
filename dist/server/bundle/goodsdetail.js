module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n.oe=function(e){process.nextTick(function(){throw e})},n(n.s=29)}([function(e,t){e.exports=require("react")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BASE_HOST="https://wd.hnmall.com/",t.GPS_KEY="__geolocation__",t.TOKEN="__accessToken__",t.INSTALL_APP="install_hnmall_app",t.APPID="wxdbb96d20de9ed62a"},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e){new qq.maps.Geolocation("PMOBZ-DSBK6-7NQSZ-EUK5J-A4PR6-DEB4V","hnmall").getLocation(function(t){var n={latitude:t.lat,longitude:t.lng,accuracy:t.accuracy};e(n)},function(t){console.log(t),e()},{timeout:8e3})}function i(e,t){localStorage.setItem(e,t)}function l(e){return localStorage.getItem(e)}t.formatPrice=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=("string"==typeof e?e:e.toString()).split(".");if(n[1]){for(var r=n[1],a="",o=0;o<t;o++)a+=r[o]?r[o]:"0";n[1]=a}else n[1]="00";return n[0]+"."+n[1]},t.isWechat=function(){var e=navigator.userAgent.toLowerCase();return/micromessenger/i.test(e)},t.navigatorGeolocation=function(e){"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(t){e({latitude:t.coords.latitude,longitude:t.coords.longitude,accuracy:t.coords.accuracy})},function(t){console.log(t),o(e)},{timeout:5e3,maximumAge:6e4}):o(e)},t.appendScript=function(e){var t=document.createElement("script"),n=document.getElementsByTagName("head")[0];t.type="text/javascript",t.src=e,n.appendChild(t)},t.getLocationByWeixin=function(e,t){void 0===("undefined"==typeof wx?"undefined":a(wx))&&t(),wx.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["checkJsApi","getLocation"]}),wx.ready(function(){wx.checkJsApi({jsApiList:["getLocation"],success:function(e){wx.getLocation({type:"wgs84",success:function(e){var n={latitude:e.latitude,longitude:e.longitude,speed:e.speed,accuracy:e.accuracy};t(n)},fail:function(){o(t)}})},fail:function(){o(t)}})})},t.getScrollTop=function(){var e=0,t=0;return document.body&&(e=document.body.scrollTop),document.documentElement&&(t=document.documentElement.scrollTop),e-t>0?e:t},t.getScrollHeight=function(){var e=0,t=0;return document.body&&(e=document.body.scrollHeight),document.documentElement&&(t=document.documentElement.scrollHeight),e-t>0?e:t},t.localCache=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!t){var r=l(e+"_time"),a=void 0;if(Date.now()-r>0)return!1;var o=l(e);try{a=JSON.parse(o)}catch(e){a=o}return a}i(e,"string"==typeof t?t:JSON.stringify(t)),i(e+"_time",Date.now()+24*n*60*60*1e3)},t.setCookie=function(e,t,n,r,a){var o=new Date,i=e+"="+escape(t);o.setDate(o.getDate()+n),n&&(i+=";expires="+o.toGMTString()),r&&(i+=";path="+r),a&&(i+=";domain="+a),console.log(i),document.cookie=i},t.distance=function(e,t,n,r){var a=function(e){return e*Math.PI/180};if(!(e&&t&&n&&r))return"";var o=a(e),i=a(n),l=o-i,u=a(t)-a(r),c=2*Math.asin(Math.sqrt(Math.pow(Math.sin(l/2),2)+Math.cos(o)*Math.cos(i)*Math.pow(Math.sin(u/2),2)));return(c*=6378137)>1e3?(c/=10,(c=parseInt(c))/100+"千米"):(c=Math.round(100*c)/100)+"米"},t.throttle=function(e,t){var n=void 0,r=void 0,a=void 0,o=Date.now();return function(){var i=Date.now(),l=t-(i-o);r=this,a=arguments,clearTimeout(n),l<=0?(e.apply(r,a),o=Date.now()):n=setTimeout(e,l)}},t.fetchApi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Promise.resolve().then(n.t.bind(null,9,7)).then(function(n){var a=n.default,o=r({timeout:3e4,headers:{"Content-Type":"application/json"}},t);return a(e,o).then(function(e){return e.data})})},t.parseUrl=function(e){for(var t=window.location.search.replace("?","").split("&"),n="",r=0;r<t.length;r++){var a=t[r].split("=");if(a[0]===e){n=a[1];break}}return n},t.createNonceStr=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t="ABCDEFGHJKMNPQRSTWXYZLOVUIabcdefhijkmnpolurstwxyz12345678",n=t.length,r="",a=0;a<e;a++)r+=t.charAt(Math.floor(Math.random()*n));return r},t.checkphone=function(e){return!!/^1(3|4|5|7|8)\d{9}$/.test(e)},t.isObject=function(e){return"[object Object]"==Object.prototype.toString.call(e)},t.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)},t.wxShare=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];void 0===("undefined"==typeof wx?"undefined":a(wx))&&t();var n=e.agentid,r=e.title,o=e.desc,i=(e.imgUrl,e.link),l=e.type;wx.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"]});(function(e){var t=e.split("?"),n=!1;if(t.length<2||""===t[1])return n;for(var r=t[1].split("&"),a=0,o=r.length;a<o;a++)-1!==r[a].indexOf("agentid")&&(n=!0);return n})(i)||(i=-1!==i.indexOf("?")?i+"&agentid="+n:i+"?agentid="+n);var u={title:"title",desc:o,link:i,imgUrl:"https://www.hnmall.com/images/3a/e5/c5/076ec271495f7494427fad42f6c0d2443189019b.jpg",success:function(){console.log("ok"),t&&t({type:l||"news",title:r,link:i,desc:o})},fail:function(e){alert("err",e)},cancel:function(){alert("取消分享")}};wx.ready(function(){wx.onMenuShareTimeline(u),wx.onMenuShareAppMessage(u),wx.onMenuShareQQ(u),wx.onMenuShareWeibo(u),wx.onMenuShareQZone(u)})}},function(e,t){e.exports=require("classnames")},function(e,t){e.exports=require("redux")},function(e,t){e.exports=require("swiper")},function(e,t){e.exports=require("prop-types")},function(e,t){e.exports=require("redux-thunk")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.wrapComponentWithActions=function(e,t){return function(n){function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,n),a(i,[{key:"render",value:function(){return l.default.createElement(e,r({},this.props,(0,o.bindActionCreators)(t,this.props.dispatch)))}}]),i}(i.Component)};var o=n(4),i=n(0),l=c(i),u=c(n(7));function c(e){return e&&e.__esModule?e:{default:e}}var s=(0,o.compose)((0,o.applyMiddleware)(u.default))(o.createStore);t.default=s},function(e,t){e.exports=require("axios")},function(e,t){e.exports=require("react-redux")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a);var i=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){}},{key:"rendeSpiner",value:function(){return o.default.createElement("div",{className:"spinner-4"},o.default.createElement("div",{className:"bounce1"}),o.default.createElement("div",{className:"bounce2"}),o.default.createElement("div",{className:"bounce3"}))}},{key:"render",value:function(){var e={display:this.props.active?"block":"none"};return o.default.createElement("div",{className:"loading-box",style:e},o.default.createElement("div",{className:"spinner-4"},o.default.createElement("div",{className:"bounce1"}),o.default.createElement("div",{className:"bounce2"}),o.default.createElement("div",{className:"bounce3"})))}}]),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=u(a),i=u(n(3)),l=n(2);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.state={active:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=this,t=Math.ceil(2*window.innerHeight);window.addEventListener("scroll",function(){var n=(0,l.getScrollTop)()>t;e.setState({active:n})})}},{key:"handleClick",value:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,this.setState({active:!1})}},{key:"render",value:function(){var e=this.state.active,t=(0,i.default)("app-go-top",{active:e});return o.default.createElement("div",{className:t,onClick:this.handleClick})}}]),t}();t.default=c},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.START_FETCH_DETAIL="START_FETCH_DETAIL",t.FINISH_FETCH_DETAIL="FINISH_FETCH_DETAIL",t.TOGGLE_ITEM_ATTR="TOGGLE_ITEM_ATTR",t.CLOSE_ALERT="CLOSE_ALERT",t.TOGGLE_POPUP="TOGGLE_POPUP"},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchGoodsDetail=function(e){return function(t){t(function(e){return{type:a.START_FETCH_DETAIL,param:e}}(e)),(0,r.fetchApi)("/goods/detail",{method:"POST",data:{id:e.itemId}}).then(function(n){t(function(e,t){return{type:a.FINISH_FETCH_DETAIL,param:e,res:t}}(e,n))})}},t.toggleAttr=function(e){return function(t){t(function(e){return{type:a.TOGGLE_ITEM_ATTR,param:e}}(e))}},t.closeAlert=function(e){return function(t){t(function(e){return{type:a.CLOSE_ALERT,param:e}}(e))}},t.togglePopup=function(e){return function(t){t(function(e){return{type:a.TOGGLE_POPUP,param:e}}(e))}};var r=n(2),a=n(15)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=l(a),i=l(n(3));n(1);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleHide=n.handleHide.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){}},{key:"handleHide",value:function(){this.props.bindTap()}},{key:"render",value:function(){var e=this.props.active,t=(0,i.default)("float-menu",{active:e});return o.default.createElement("div",{className:t,onClick:this.handleHide},o.default.createElement("div",{className:"mask"}),o.default.createElement("ul",{className:"menu-layer"},o.default.createElement("li",{className:"menu-item"},o.default.createElement("a",{href:"/"},o.default.createElement("i",{className:"iconfont icon-home"}),o.default.createElement("span",{className:"menu-text"},"首页"))),o.default.createElement("li",{className:"menu-item"},o.default.createElement("a",{href:"/category.html"},o.default.createElement("i",{className:"iconfont icon-cate"}),o.default.createElement("span",{className:"menu-text"},"分类"))),o.default.createElement("li",{className:"menu-item"},o.default.createElement("a",{href:"https://www.hnmall.com/wap/cart.html"},o.default.createElement("i",{className:"iconfont icon-cart"}),o.default.createElement("span",{className:"menu-text"},"购物车"))),o.default.createElement("li",{className:"menu-item"},o.default.createElement("a",{href:"https://www.hnmall.com/weidian/store-index.html"},o.default.createElement("i",{className:"iconfont icon-shop"}),o.default.createElement("span",{className:"menu-text"},"店铺"))),o.default.createElement("li",{className:"menu-item"},o.default.createElement("a",{href:"https://www.hnmall.com/wap/member.html"},o.default.createElement("i",{className:"iconfont icon-user"}),o.default.createElement("span",{className:"menu-text"},"会员")))))}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=l(a),i=l(n(3));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.hanleClick=n.hanleClick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){}},{key:"hanleClick",value:function(){this.props.close()}},{key:"render",value:function(){var e=this.props.message,t=(0,i.default)("app-mask",{active:e}),n=(0,i.default)("alert-container",{active:e});return o.default.createElement("div",{className:t},o.default.createElement("div",{className:n},o.default.createElement("div",{className:"alert-content"},e),o.default.createElement("div",{onClick:this.hanleClick,className:"alert-button"},"确定")))}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=l(a),i=l(n(3));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:e.value},n.handleChange=n.handleChange.bind(n),n.handleDecrease=n.handleDecrease.bind(n),n.handleIncrease=n.handleIncrease.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"handleChange",value:function(e){e&&e.preventDefault();var t=this.props,n=t.onChange,r=t.minimum,a=t.maximum,o=parseInt(e.target.value)||0;o>a&&(o=a),o<r&&(o=r),this.setState({value:o},function(){n(o)})}},{key:"handleIncrease",value:function(){var e=this.state.value,t=this.props,n=t.maximum,r=t.step,a=t.onPlus;null!==n&&e>=n?a(e):(e+=r,this.setState({value:e},function(){a(e)}))}},{key:"handleDecrease",value:function(){var e=this.state.value,t=this.props,n=t.minimum,r=t.onMinus,a=t.step;null!==n&&e<=n?r(e):(e-=a,this.setState({value:e},function(){r(e)}))}},{key:"render",value:function(){var e=this.state.value,t=this.props,n=t.minimum,r=t.maximum,a=(0,i.default)("minus",{disabled:e<=n}),l=(0,i.default)("plus",{disabled:e>=r});return o.default.createElement("div",{className:"number-pick"},o.default.createElement("div",{className:"picker flex"},o.default.createElement("div",{className:a,onClick:this.handleDecrease},"-"),o.default.createElement("div",{className:"value"},o.default.createElement("input",{type:"number",value:e,onChange:this.handleChange})),o.default.createElement("div",{className:l,onClick:this.handleIncrease},"+")))}}]),t}();t.default=u,u.defaultProps={value:1,minimum:1,maximum:null,step:1,onPlus:function(){},onMinus:function(){},onChange:function(){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=s(a),i=s(n(3)),l=n(2),u=s(n(21)),c=s(n(20));n(1);function s(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleHidePop=n.handleHidePop.bind(n),n.handleCloseAlert=n.handleCloseAlert.bind(n),n.handleBuy=n.handleBuy.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){}},{key:"toggle",value:function(e,t){if(this.props.goods.goodsDetail.attr[e].values[t].disabled)return!1;this.props.toggleAttr({i:e,j:t})}},{key:"filter",value:function(e){var t=e.attr,n=e.sku,r="",a=[],o="",i=!0,l=!1,u=void 0;try{for(var c,s=n[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var f=c.value;if(f.checked){o=f.price,r=f.value;break}}}catch(e){l=!0,u=e}finally{try{!i&&s.return&&s.return()}finally{if(l)throw u}}if(r||(t.forEach(function(e){a.push(e.name)}),r="请选择"+a.join("")),!o){n.sort(function(e,t){return e.price-t.price});var d=n[0].price,p=n[n.length-1].price;o=p!=d?d+" - "+p:d}return{name:r,price:o}}},{key:"handleHidePop",value:function(){this.props.togglePopup({status:!1})}},{key:"handleCloseAlert",value:function(){this.props.closeAlert()}},{key:"renderAttrList",value:function(e){var t=this;if(!(0,l.isObject)(e)||!(0,l.isArray)(e.attr))return"";var n=[];return e.attr.forEach(function(e,r){var a=e.values.map(function(e,n){var a=(0,i.default)("attr-item",{checked:e.checked,disabled:e.disabled});return o.default.createElement("div",{onClick:t.toggle.bind(t,r,n),className:a,key:e.id},e.value)});n.push(o.default.createElement("div",{className:"attr-wrap",key:e.id},o.default.createElement("div",{className:"attr-type"},e.name),o.default.createElement("div",{className:"attr-items flex"},a)))}),o.default.createElement("div",{className:"attr-list"},n)}},{key:"renderGoodsInfo",value:function(e){if(!(0,l.isObject)(e))return"数据错误";var t=this.filter(e),n=t.name,r=t.price;return o.default.createElement("div",{className:"goods-info flex"},o.default.createElement("div",{className:"goods-img"},o.default.createElement("a",{href:"javascript:;"},o.default.createElement("img",{className:"img",src:e.thumbnail}))),o.default.createElement("div",{className:"goods-attr"},o.default.createElement("div",{className:"price"},"￥",function(e){if(e.indexOf("-")>0)return e;var t=e.split(".");return o.default.createElement("span",null,o.default.createElement("b",null,t[0]),".",t[1])}(r)),o.default.createElement("div",{className:"attr"},n)),o.default.createElement("div",{className:"close",onClick:this.handleHidePop},o.default.createElement("i",{className:"iconfont icon-close"})))}},{key:"handleBuy",value:function(){this.props.togglePopup({status:!1}),this.props.buy()}},{key:"render",value:function(){var e=this.props.goods,t=e.goodsDetail,n=e.error,r=e.popupStatus,a=Math.max(t.user_max_limit||t.store),l=(0,i.default)("popup-wrap",{active:r}),s=(0,i.default)("popup",{active:r}),f=(0,i.default)("button",{active:this.props.status});return o.default.createElement("div",{ref:"popup",className:l},o.default.createElement("div",{className:"mask",onClick:this.handleHidePop}),o.default.createElement("div",{className:s},this.renderGoodsInfo(t),this.renderAttrList(t),o.default.createElement("div",{className:"bar"},o.default.createElement(u.default,{minimum:1,maximum:a}),o.default.createElement("div",{className:f,onClick:this.handleBuy},"立即购买"))),o.default.createElement(c.default,{message:n,close:this.handleCloseAlert}))}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=l(a),i=l(n(3));n(1);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isActive:!1},n.handleFavorite=n.handleFavorite.bind(n),n.handleAddToCart=n.handleAddToCart.bind(n),n.handleClickBuy=n.handleClickBuy.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){}},{key:"handleFavorite",value:function(){var e=this.state.isActive;this.setState({isActive:!e})}},{key:"handleAddToCart",value:function(){this.props.status||this.props.togglePopup({status:!0})}},{key:"handleClickBuy",value:function(){this.props.status||this.props.togglePopup({status:!0}),this.props.buy()}},{key:"render",value:function(){var e=this.state.isActive,t=(0,i.default)("iconfont icon",{"icon-start-off":!e,"icon-start-on":e});return o.default.createElement("div",{className:"tool-bar flex"},o.default.createElement("div",{className:"item",onClick:this.handleFavorite},o.default.createElement("i",{className:t}),o.default.createElement("span",{className:"text"},"收藏")),o.default.createElement("div",{className:"item"},o.default.createElement("i",{className:"iconfont icon icon-cart"}),o.default.createElement("span",{className:"text"},"购物车")),o.default.createElement("div",{onClick:this.handleAddToCart,className:"button add-cart"},"加入购物车"),o.default.createElement("div",{onClick:this.handleClickBuy,className:"button buy"},"立即购买"))}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),l=f(i),u=f(n(6)),c=f(n(3)),s=n(2);n(1);function f(e){return e&&e.__esModule?e:{default:e}}var d=(a=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={activeIndex:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.goods.goodsDetail;this.props.fetchGoodsDetail({itemId:t.item_id});Promise.resolve().then(n.t.bind(null,5,7)).then(function(t){var n=t.default;e.mySwiper=new n(e.refs.slider,{autoHeight:!0,onSlideChangeEnd:function(t){var n=t.activeIndex;e.handleClick(n)}})})}},{key:"handleClick",value:function(e){if(this.state.activeIndex===e)return!1;this.mySwiper.slideTo(e),this.setState({activeIndex:e})}},{key:"renderTabSilder",value:function(){var e=this,t=this.state.activeIndex;return["图文详情","详细参数","备注信息"].map(function(n,r){var a=(0,c.default)("slider-item",{active:t===r});return l.default.createElement("div",{onClick:e.handleClick.bind(e,r),className:a,key:r},n)})}},{key:"renderDetailHTML",value:function(e){var t="";return(0,s.isObject)(e)&&(t=e.desc),{__html:t}}},{key:"renderGoodsParam",value:function(e){return e&&(0,s.isArray)(e.props)&&e.props.length?e.props.map(function(e,t){return l.default.createElement("div",{className:"parameter-table-view-cell",key:e.id},l.default.createElement("div",{className:"parameter-table-view-key"},e.name),l.default.createElement("div",{className:"parameter-table-view-val"},e.value))}):l.default.createElement("div",{className:"empty-props"},"暂无参数信息")}},{key:"renderGoodsNote",value:function(e){return e&&(0,s.isArray)(e.remark)&&e.remark.length?e.remark.map(function(e,t){return l.default.createElement("div",{className:"parameter-table-view-cell",key:t},l.default.createElement("div",{className:"parameter-table-view-key"},e.name),l.default.createElement("div",{className:"parameter-table-view-val"},e.value))}):l.default.createElement("div",{className:"empty-props"},"暂无信息")}},{key:"render",value:function(){var e=this.props.goods.detail;return l.default.createElement("div",{className:"section margin"},l.default.createElement("div",{className:"flex"},this.renderTabSilder()),l.default.createElement("div",{ref:"slider",className:"swiper-container detail-info"},l.default.createElement("div",{className:"swiper-wrapper"},l.default.createElement("div",{className:"swiper-slide",dangerouslySetInnerHTML:this.renderDetailHTML(e)}),l.default.createElement("div",{className:"swiper-slide"},l.default.createElement("div",{className:"parameter-table-view-header"},"基本参数"),this.renderGoodsParam(e)),l.default.createElement("div",{className:"swiper-slide"},this.renderGoodsNote(e)))))}}]),t}(),r.propTypes={sliders:u.default.array},a);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),l=c(i),u=c(n(6));function c(e){return e&&e.__esModule?e:{default:e}}var s=(a=r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;Promise.resolve().then(n.t.bind(null,5,7)).then(function(t){new(0,t.default)(e.refs.slider,{autoplay:5e3,lazyLoading:!0,pagination:".swiper-pagination"})})}},{key:"renderSlider",value:function(){return this.props.sliders.map(function(e,t){return l.default.createElement("div",{className:"swiper-slide",key:t},l.default.createElement("img",{className:"img swiper-lazy","data-src":e}),l.default.createElement("div",{className:"swiper-lazy-preloader"}))})}},{key:"render",value:function(){return l.default.createElement("div",{ref:"slider",className:"swiper-container banner"},l.default.createElement("div",{className:"swiper-wrapper"},this.renderSlider()),l.default.createElement("div",{className:"swiper-pagination"}))}}]),t}(),r.propTypes={sliders:u.default.array},a);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoodsDetail=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=v(o),l=n(1),u=v(n(25)),c=v(n(24)),s=v(n(23)),f=v(n(22)),d=v(n(19)),p=v(n(12)),m=v(n(11)),h=n(2);function v(e){return e&&e.__esModule?e:{default:e}}t.GoodsDetail=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showMenu:!1},n.handleClickPop=n.handleClickPop.bind(n),n.handleShowMenu=n.handleShowMenu.bind(n),n.handleHideMenu=n.handleHideMenu.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=encodeURIComponent(document.location.href),t=this.props.goods.goodsDetail,n=t.title,r=t.sub_title,a=t.thumbnail;(0,h.isWechat)()&&(0,h.fetchApi)("/index/weixin",{method:"POST",data:{url:e}}).then(function(t){(0,h.wxShare)({appId:t.appId,nonceStr:t.nonceStr,signature:t.signature,timestamp:t.timestamp,agentid:t.agentid,title:n,link:e,desc:r,imgUrl:a},function(e){(0,h.fetchApi)("/index/wxshare",{method:"POST",data:e})})})}},{key:"handleBack",value:function(){history.back()}},{key:"handleShowMenu",value:function(){this.setState({showMenu:!0})}},{key:"handleHideMenu",value:function(){this.setState({showMenu:!1})}},{key:"handleClickPop",value:function(){this.props.togglePopup({status:!0})}},{key:"handleSubmit",value:function(){}},{key:"filterCheckedAttr",value:function(e){var t=e.attr,n=[],r=[],a=!0,o=!1,i=void 0;try{for(var l,u=t[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;r.push(c.name);var s=!0,f=!1,d=void 0;try{for(var p,m=c.values[Symbol.iterator]();!(s=(p=m.next()).done);s=!0){var h=p.value;if(h.checked){n.push(h.value);break}}}catch(e){f=!0,d=e}finally{try{!s&&m.return&&m.return()}finally{if(f)throw d}}}}catch(e){o=!0,i=e}finally{try{!a&&u.return&&u.return()}finally{if(o)throw i}}return n.join(";")||"请选择"+r.join(",")}},{key:"submitCheck",value:function(){var e=this.props.goods.goodsDetail.sku,t=void 0,n=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var l=o.value;if(l.checked&&l.valid&&l.store>0){t=l;break}}}catch(e){r=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw a}}return t}},{key:"render",value:function(){var e=this.props.goods,t=e.goodsDetail,n=e.isFetching,a=t.price.split("."),o=l.BASE_HOST+"wap/shop-index.html?shop_id="+t.shop_id,h=this.submitCheck();return i.default.createElement("div",{className:"app-wrap"},i.default.createElement("div",{className:"header"},i.default.createElement("div",{className:"back",onClick:this.handleBack},i.default.createElement("i",{className:"iconfont icon-zuo"})),i.default.createElement("div",{className:"menu",onClick:this.handleShowMenu},i.default.createElement("i",{className:"iconfont icon-caidan"}))),i.default.createElement(d.default,{bindTap:this.handleHideMenu,active:this.state.showMenu}),i.default.createElement(u.default,{sliders:t.images}),i.default.createElement("div",{className:"section"},i.default.createElement("div",{className:"title"},t.title),i.default.createElement("div",{className:"sub-title"},t.sub_title),i.default.createElement("div",{className:"price"},"￥",i.default.createElement("b",null,a[0]),i.default.createElement("i",null,".",a[1]),i.default.createElement("del",null,t.mkt_price))),i.default.createElement("div",{className:"section margin"},i.default.createElement("div",{className:"attr-row",onClick:this.handleClickPop},i.default.createElement("span",{className:"attr-tip"},"已选"),i.default.createElement("span",{className:"attr-name"},this.filterCheckedAttr(t)),i.default.createElement("i",{className:"iconfont icon-arrowright"})),i.default.createElement("div",{className:"attr-row"},i.default.createElement("span",{className:"attr-tip"},"提示:"),i.default.createElement("span",{className:"attr-name"},"卖家承担运费"),i.default.createElement("i",{className:"iconfont icon-arrowright"}))),i.default.createElement("div",{className:"section flex shop"},i.default.createElement("a",{className:"shop-logo",hef:"/"},i.default.createElement("img",{className:"img",src:t.shoplogo})),i.default.createElement("div",{className:"shop-name"},t.shopname),i.default.createElement("a",{className:"shop-enter",href:o},"进店逛逛")),i.default.createElement(c.default,this.props),i.default.createElement(s.default,r({},this.props,{buy:this.handleSubmit,status:h})),i.default.createElement(f.default,r({},this.props,{buy:this.handleSubmit,status:h})),i.default.createElement(m.default,{active:n}),i.default.createElement(p.default,null))}}]),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(4),o=(n(2),n(15));var i=(0,a.combineReducers)({goods:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case o.START_FETCH_DETAIL:return r({},e,{isFetching:!0,isFetched:!1});case o.FINISH_FETCH_DETAIL:var n=t.res;return r({},e,{detail:n,isFetched:!0,isFetching:!1});case o.TOGGLE_ITEM_ATTR:var a=function(e,t){var n=t.i,a=t.j,o=!e[n].values[a].checked;return e.map(function(e,t){var i=e.values.map(function(e,i){return t===n?r({},e,{checked:i===a&&o}):r({},e)});return r({},e,{values:i})})}(e.goodsDetail.attr,t.param),i=function(e,t){var n=[];return e.forEach(function(e){e.values.forEach(function(e){e.checked&&n.push(e.id)})}),t.map(function(e){var t=!1;return n.join("_")===e.id&&(t=!0),r({},e,{checked:t})})}(a,e.goodsDetail.sku);a=function(e,t,n){var r=n.i,a=n.j,o=e[r].values[a],i=[],l=!0,u=!1,c=void 0;try{for(var s,f=t[Symbol.iterator]();!(l=(s=f.next()).done);l=!0){var d=s.value;if(o.checked&&-1!==d.id.indexOf(o.id)){var p=d.id.replace(o.id,"").replace("_","");i.push(p)}}}catch(e){u=!0,c=e}finally{try{!l&&f.return&&f.return()}finally{if(u)throw c}}for(var m=0;m<e.length;m++)if(m!==r){var h=!0,v=!1,y=void 0;try{for(var b,g=e[m].values[Symbol.iterator]();!(h=(b=g.next()).done);h=!0){var E=b.value;E.disabled=!1,i.length&&-1===i.indexOf(E.id)&&(E.disabled=!0)}}catch(e){v=!0,y=e}finally{try{!h&&g.return&&g.return()}finally{if(v)throw y}}}return e}(a,i,t.param);var l=r({},e.goodsDetail,{attr:a,sku:i});return r({},e,{goodsDetail:l});case o.CLOSE_ALERT:return r({},e,{error:!1});case o.TOGGLE_POPUP:var u=t.param.status;return r({},e,{popupStatus:u});default:return e}}});t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=d(a),i=n(10),l=d(n(27)),u=n(8),c=d(u),s=n(26),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18));function d(e){return e&&e.__esModule?e:{default:e}}var p=(0,i.connect)(function(e){return e})((0,u.wrapComponentWithActions)(s.GoodsDetail,f));var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=function(e){return(0,c.default)(l.default,e)}({goods:{goodsDetail:this.props.initialState,popupStatus:!1,isFetching:!1,isFetched:!1}});return o.default.createElement(i.Provider,{store:e},o.default.createElement(p,null))}}]),t}();t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),a=o(n(28));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return new Promise(function(t,n){t({app:r.default.createElement(a.default,{initialState:e})})})}}]);